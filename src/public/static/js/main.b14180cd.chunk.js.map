{"version":3,"sources":["VERSION.js","actions/index.js","utils.js","reducers/modelReducer.js","reducers/requestingReducer.js","reducers/notificationReducer.js","reducers/logsReducer.js","reducers/editingFormReducer.js","reducers/deployStatusReducer.js","reducers/statsReducer.js","reducers/index.js","api/index.js","sagas/requestModelSaga.js","sagas/uploadModelSaga.js","sagas/deploySaga.js","sagas/requestLogsSaga.js","sagas/requestStatsSaga.js","sagas/index.js","store/index.js","components/TSHeader/TSHeader.js","components/TSHeader/index.js","components/TSFooter/TSFooter.js","components/TSFooter/index.js","components/TSModal/index.js","components/TSModal/TSModal.js","components/FormItems/FormTextItem.js","components/FormItems/FormSelectItem.js","components/FormItems/FormNumberItem.js","components/FormItems/FormTimeRangeItem.js","components/FormItems/FormSwitchItem.js","components/FormItems/FormCheckBoxItems.js","components/FormItems/FormRegularNumberItem.js","components/FormItems/FormEditableTextItem.js","components/ConnectionConfig/MongoDBOptions.js","components/CollapseForm/CollapseForm.js","components/CollapseForm/index.js","components/ConnectionConfig/index.js","components/ConnectionConfig/ConnectionConfig.js","components/ThingModal/ThingModal.js","components/ThingModal/index.js","components/SensorModal/DataReplayerForm.js","components/SensorModal/DataSourceForms/DataSourceForm.js","components/SensorModal/DataSourceForms/EnergyForm.js","components/SensorModal/DataSourceForms/BooleanForm.js","components/SensorModal/DataSourceForms/EnumForm.js","components/SensorModal/DataSourceForms/IntegerFloatForm.js","components/SensorModal/DataSourceForms/MultipleDataSources.js","components/SensorModal/DataGeneratorForm.js","components/SensorModal/SensorModal.js","components/SensorModal/index.js","components/ActuatorModal/ActuatorModal.js","components/ActuatorModal/index.js","components/JSONView/Editor.jsx","components/JSONView/index.js","components/JSONView/JSONView.js","components/GraphView/CustomNode.js","components/GraphView/GraphConfig.js","components/GraphView/GraphView.js","components/GraphView/index.js","components/ListView/TSListView/index.js","components/ListView/TSListView/TSListView.js","components/ListView/ThingsView/ThingsView.js","components/ListView/ThingsView/index.js","components/ListView/ListView.js","components/ListView/index.js","components/TSSider/TSSider.js","components/TSSider/index.js","components/LeftSider/index.js","components/RightSider/index.js","pages/LayoutPage.js","pages/ModelPage.js","pages/LogsPage.js","pages/LogFilePage.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","setNotification","createAction","resetNotification","requestModel","setModel","changeModelName","addThing","deleteThing","addSimulationSensor","addSimulationActuator","deleteSimulationSensor","deleteSimulationActuator","changeStatusSensor","changeStatusActuator","uploadModel","uploadModelOK","sendDeployStart","deployStartOK","sendDeployStop","deployStopOK","requestDeployStatus","setDeployStatus","requestLogs","requestLogFiles","requestLogsOK","requestLogFilesOK","requestDeleteLogFile","resetModel","showModal","selectThing","changeStatusThing","selectSensor","selectActuator","requestStats","requestStatsOK","updateObjectByPath","obj","path","value","stack","split","length","key","shift","indexOf","array","index","replace","push","lastKey","splice","deepCloneObject","JSON","parse","stringify","addNewElementToArray","newElement","found","id","removeElementFromArray","elmId","isDeleted","console","log","getCreatedTimeFromFileName","fileName","timeString","Date","Number","isDataGenerator","window","location","pathname","getQuery","qname","URLSearchParams","search","get","initState","name","createReducer","produce","draft","model","state","newName","thing","things","newThings","thingID","enable","error","sensor","foundThing","newSensors","sensors","actuator","newActuators","actuators","sensorID","tIndex","actuatorID","type","message","logs","logFiles","isDG","logFile","formID","selectedThing","selectedSensor","selectedActuator","dataStorage","status","stats","rootReducer","combineReducers","modelReducer","statsReducer","logsReducer","notify","notificationReducer","requesting","requestingReducer","editingForm","editingFormReducer","deployStatus","deployStatusReducer","tool","a","url","fetch","response","json","data","method","headers","body","content","result","files","requestStartDeploy","requestStopDeploy","handleRequestModel","watchRequestModel","action","payload","call","put","takeEvery","handleSaveModel","watchSaveModel","getModel","select","Error","handleRequestStartDeploy","handleRequestStopDeploy","handleRequestDeployStatus","watchDeploy","toUpperCase","handleRequestLogFiles","handleRequestLogs","handleRequestDeleteLogFile","watchRequestLogs","handleRequestStats","watchRequestStats","rootSaga","all","requestModelSaga","uploadModelSaga","deploySaga","requestLogsSaga","configStore","sagaMiddleware","createSagaMiddleware","store","createStore","compose","applyMiddleware","__REDUX_DEVTOOLS_EXTENSION__","f","run","SubMenu","Menu","Header","Layout","Text","Typography","TSHeader","fileReader","FileReader","onloadend","newModel","props","setNewModel","readAsText","fileData","blob","Blob","URL","createObjectURL","link","document","createElement","download","href","click","this","resetEditor","startDeploy","stopDeploy","logo","span","src","className","alt","style","maxWidth","objectFit","theme","mode","lineHeight","title","GatewayOutlined","Item","onClick","inputFileDOM","ImportOutlined","exportModel","ExportOutlined","ClearOutlined","indicator","DeploymentUnitOutlined","spin","fontSize","CaretRightOutlined","StopOutlined","rel","target","ProfileOutlined","color","onChange","event","onUpload","ref","input","display","accept","multiple","Component","connect","dispatch","viewLogs","Footer","TSFooter","textAlign","getFullYear","VERSION","TSModal","visible","footer","onCancel","children","FormTextItem","label","defaultValue","placeholder","v","FormSelectItem","options","map","tid","Option","FormNumberItem","min","max","RangePicker","DatePicker","FormTimeRangeItem","startTime","moment","endTime","showTime","format","dateString","getTime","FormSwitchItem","checked","checkedChildren","unCheckedChildren","FormCheckBoxItem","Group","FormRegularNumberItem","items","grid","gutter","column","dataSource","renderItem","item","size","bordered","dataPath","Paragraph","FormEditableTextItem","editable","MongoDBOptions","onDataChange","Fragment","user","password","dbname","Panel","Collapse","CollapseForm","active","accordion","margin","defaultActiveKey","header","ConnectionConfig","host","port","ThingModal","initThing","now","protocol","behaviours","timeToDown","connConfig","newThing","errorMsg","optionsValue","setState","newThingID","newData","setTimeout","prevState","handleDuplicate","handleCancel","handleOk","labelCol","wrapperCol","scale","FormCheckBoxItems","modalID","thingData","DataReplayerForm","dPath","devId","defaultBehaviours","DataSourceForm","resourceId","unit","concat","EnergyForm","initValue","consumInOnePeriod","low","slowDownRate","BooleanForm","EnumForm","values","defaultValueConstraints","regularMin","regularMax","step","ValueConstraintForm","IntegerFloatForm","withValueConstraints","valueConstraints","MultipleDataSources","sources","source","DataGeneratorForm","showEnergyOption","timePeriod","sensorBehaviours","dosAttackSpeedUpRate","timeBeforeFailed","isIPSOFormat","energy","withEnergy","overlay","placement","UpOutlined","replayDataSource","username","initSensor","objectId","isFromDatabase","topic","userData","SensorModal","thingIDs","selectedData","sid","aid","replayDS","generateDS","newProps","tID","isReplay","isSensor","onThingChange","onChangeDataSource","act","initActuator","ActuatorModal","newActuatorID","modes","tree","view","form","code","text","Object","allValues","Editor","htmlElementRef","jsonEditor","handleChange","bind","setRef","collapseAll","expandAll","focus","allowedModes","rest","innerRef","htmlElementProps","tag","createEditor","schema","schemaRefs","setSchema","getName","setName","destroy","set","element","JSONEditor","getText","currentJson","err","React","defaultProps","history","navigationBar","statusBar","JSONView","ace","StatsView","startedTime","toLocaleTimeString","lastActivity","CustomNode","devType","icon","PartitionOutlined","popOverContent","overflowCount","showZero","count","numberOfSentData","backgroundColor","numberOfReceivedData","BugOutlined","BulbOutlined","lastReceivedData","verticalAlign","automaticRearrangeAfterDropNode","collapsible","height","highlightDegree","highlightOpacity","linkHighlightBehavior","maxZoom","minZoom","nodeHighlightBehavior","panAndZoom","staticGraph","width","directed","node","fontColor","fontWeight","highlightColor","highlightFontSize","highlightFontWeight","highlightStrokeColor","highlightStrokeWidth","mouseCursor","opacity","renderLabel","strokeColor","strokeWidth","svg","symbolType","viewGenerator","semanticStrokeWidth","labelProperty","numberOfData","getElementById","buildGraphData","nodes","links","thingStats","sIndex","nodeID","sensorStats","actuatorStats","GraphView","timerId","setInterval","clearInterval","config","graphConfig","TSListView","list","editHandler","deleteHandler","itemAvatar","changeStatus","itemLayout","actions","avatar","loading","Meta","cursor","description","ThingItem","deleteSensor","deleteActuator","subTitle","ThingsView","ListView","modelType","Sider","TSSider","defaultKey","rightSide","breakpoint","collapsedWidth","borderRight","borderLeft","defaultSelectedKeys","defaultOpenKeys","i","LeftSider","menuItems","mID","RightSider","UnorderedListOutlined","FilterOutlined","ForkOutlined","dKey","viewType","Content","LayoutPage","statusMessage","isLogPage","notification","onClose","padding","marginBottom","marginTop","showIcon","tip","ModelPage","tempModel","onModelChange","initData","saveModel","LogsPage","deleteLogFile","ClockCircleOutlined","LogLine","time","device","getLastURLPath","decodeURIComponent","warn","getHours","getMinutes","getSeconds","getDay","getMonth","App","LogFilePage","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.b14180cd.chunk.js","sourcesContent":["module.exports = '0.6.3';","import {createAction } from 'redux-act';\n// Notification\nexport const setNotification = createAction('SET_NOTIFICATION');\nexport const resetNotification = createAction('RESET_NOTIFICATION');\n\n// Model\nexport const requestModel = createAction('REQUEST_MODEL');\nexport const setModel = createAction('SET_MODEL');\n// Model - modification\nexport const changeModelName = createAction('CHANGE_MODEL_NAME');\nexport const addThing = createAction('ADD_THING');\nexport const deleteThing = createAction('DELETE_THING');\nexport const addSimulationSensor = createAction('ADD_SIMULATION_SENSOR');\nexport const addSimulationActuator = createAction('ADD_SIMULATION_ACTUATOR');\nexport const deleteSimulationSensor = createAction('DELETE_SIMULATION_SENSOR');\nexport const deleteSimulationActuator = createAction('DELETE_SIMULATION_ACTUATOR');\nexport const changeStatusSensor = createAction('CHANGE_STATUS_SENSOR');\nexport const changeStatusActuator = createAction('CHANGE_STATUS_ACTUATOR');\n// Save Model to Server\nexport const uploadModel = createAction('UPLOAD_MODEL');\nexport const uploadModelOK = createAction('UPLOAD_MODEL_OK');\n\n// Control the Simulation\nexport const sendDeployStart = createAction('SEND_DEPLOY_START');\nexport const deployStartOK = createAction('DEPLOY_START_OK');\nexport const sendDeployStop = createAction('SEND_DEPLOY_STOP');\nexport const deployStopOK = createAction('DEPLOY_STOP_OK');\nexport const requestDeployStatus = createAction('REQUEST_DEPLOY_STATUS');\nexport const setDeployStatus = createAction('SET_DEPLOY_STATUS');\n\n// Control the logs\nexport const requestLogs = createAction('REQUEST_LOGS');\nexport const requestLogFiles = createAction('REQUEST_LOGFILES');\nexport const requestLogsOK = createAction('REQUEST_LOGS_OK');\nexport const requestLogFilesOK = createAction('REQUEST_LOGFILES_OK');\nexport const requestDeleteLogFile = createAction('REQUEST_DELETE_LOG_FILE');\n\n// Import Model\nexport const resetModel = createAction('RESET_MODEL');\n\n// editing forms\nexport const showModal = createAction('SHOW_MODAL');\nexport const selectThing = createAction('SELECT_THING');\nexport const changeStatusThing = createAction('CHANGE_STATUS_THING');\nexport const selectSensor = createAction('SELECT_SENSOR');\nexport const selectActuator = createAction('SELECT_ACTUATOR');\nexport const selectDataStorage = createAction('SELECT_DATA_STORAGE');\n\n\n// Statistics\nexport const requestStats = createAction('REQUEST_STATS');\nexport const requestStatsOK = createAction('REQUEST_STATS_OK');","/**\n *\n * @param {Object} obj Object to be updated\n * @param {String} path Path to be updated\n * @param {Value} value the new value to be updated\n */\nconst updateObjectByPath = (obj, path, value) => {\n  let stack = path.split(\".\");\n  while (stack.length > 1) {\n    // Not at the end of the path\n    let key = stack.shift();\n    if (key.indexOf(\"[\") > 0) {\n      // Contains array index\n      const array = key.split(\"[\");\n      key = array[0];\n      let index = array[1].replace(\"]\", \"\");\n      if (!obj[key]) {\n        // Create a new array if it does not exist\n        obj[key] = [];\n      }\n      if (obj[key].length === 0) {\n        // Empty array\n        index = 0;\n      } else if (obj[key].length <= index || index < 0) {\n        // index out of range\n        index = obj[key].length;\n      }\n      if (!obj[key][index]) {\n        obj[key].push({});\n        // throw Error(`ERROR: Invalid data path: ${path} in object ${JSON.stringify(obj)}`);\n      }\n      obj = obj[key][index];\n    } else {\n      if (!obj[key]) {\n        // Create a new path if it does not exist\n        obj[key] = {};\n      }\n      obj = obj[key];\n    }\n  }\n  let lastKey = stack.shift();\n  // At the end of the path\n  if (lastKey.indexOf(\"[\") > 0) {\n    // Contains array index\n    const array = lastKey.split(\"[\");\n    lastKey = array[0];\n    let index = array[1].replace(\"]\", \"\");\n    if (value === null) {\n      // Remove an element\n      if (obj[lastKey] && obj[lastKey][index]) {\n        obj[lastKey].splice(index, 1);\n      }\n    } else {\n      // Add an element\n      if (!obj[lastKey]) {\n        // Create a new array if it does not exist\n        obj[lastKey] = [];\n      }\n      if (obj[lastKey].length === 0) {\n        // Empty array\n        index = 0;\n      } else if (obj[lastKey].length <= index || index < 0) {\n        // index out of range\n        index = obj[lastKey].length;\n      }\n      if (!obj[lastKey][index]) {\n        obj[lastKey].push(value);\n        // throw Error(`ERROR: Invalid data path: ${path} in object ${JSON.stringify(obj)}`);\n      } else {\n        obj[lastKey][index] = value;\n      }\n    }\n  } else {\n    // Not contains array index\n    obj[lastKey] = value;\n  }\n};\n\nconst deepCloneObject = (obj) => JSON.parse(JSON.stringify(obj));\n\n/**\n * Add new element into array\n * @param {Array} array The array to be added\n * @param {Object} newElement New element to be updated or added\n */\nconst addNewElementToArray = (array, newElement) => {\n  let found = false;\n  for (let index = 0; index < array.length; index++) {\n    const element = array[index];\n    if (element.id === newElement.id) {\n      // Found the element - update\n      array[index] = { ...newElement };\n      // array.splice(index, 1);\n      // array.push(newElement);\n      found = true;\n      break;\n    }\n  }\n  if (!found) {\n    array.push(newElement);\n  }\n  return array;\n};\n\nconst removeElementFromArray = (array, elmId) => {\n  let isDeleted = false;\n  for (let index = 0; index < array.length; index++) {\n    const element = array[index];\n    if (element.id === elmId) {\n      array.splice(index, 1);\n      isDeleted = true;\n      break;\n    }\n  }\n  if (!isDeleted) {\n    console.log(`[ERROR] Cannot find the element: ${elmId}`);\n    return null;\n  }\n  return array;\n};\n\nconst getCreatedTimeFromFileName = (fileName) => {\n  const array = fileName.split(\"_\");\n  let timeString = array[array.length - 1].replace(\".log\", \"\");\n  return new Date(Number(timeString));\n};\n\nconst getLastURLPath = (url) => {\n  const array = url.split(\"/\");\n  return array[array.length - 1];\n};\n\nconst isDataGenerator = () => {\n  return window.location.pathname.indexOf(\"data-generator\") === 1;\n};\n\nconst getQuery = (qname) => {\n  const query = new URLSearchParams(window.location.search);\n  return query.get(qname);\n};\n\nexport {\n  getQuery,\n  isDataGenerator,\n  getLastURLPath,\n  updateObjectByPath,\n  addNewElementToArray,\n  removeElementFromArray,\n  getCreatedTimeFromFileName,\n  deepCloneObject,\n};\n","import { createReducer } from \"redux-act\";\nimport produce from \"immer\";\nimport {\n  setModel,\n  resetModel,\n  changeModelName,\n  addThing,\n  deleteThing,\n  changeStatusThing,\n  addSimulationSensor,\n  deleteSimulationSensor,\n  changeStatusSensor,\n  addSimulationActuator,\n  deleteSimulationActuator,\n  changeStatusActuator,\n} from \"../actions\";\nimport { addNewElementToArray, removeElementFromArray } from \"../utils\";\n\nconst initState = { name: \"NewModel\" };\n\nexport default createReducer(\n  {\n    [setModel]: produce((draft, model) => (draft = model)),\n    [resetModel]: state => initState,\n    // modification\n    [changeModelName]: produce((draft, newName) => {\n      draft.name = newName;\n    }),\n    [addThing]: produce((draft, thing) => {\n      if (draft.things) {\n        const newThings = addNewElementToArray(draft.things, thing);\n        draft.things = [...newThings];\n      } else {\n        draft.things = [thing];\n      }\n    }),\n    [deleteThing]: produce((draft, thingID) => {\n      const newThings = removeElementFromArray(draft.things, thingID);\n      if (newThings) draft.things = [...newThings];\n    }),\n    [changeStatusThing]: produce((draft, thingID) => {\n      for (let index = 0; index < draft.things.length; index++) {\n        if (draft.things[index].id === thingID) {\n          draft.things[index].enable = !draft.things[index].enable;\n          return;\n        };\n      }\n      console.error(`[ERROR] Cannot find the thing ${thingID}`);\n    }),\n    [addSimulationSensor]: produce((draft, { thingID, sensor }) => {\n      let foundThing = false;\n      if (draft.things) {\n        for (let index = 0; index < draft.things.length; index++) {\n          if (draft.things[index].id === thingID) {\n            foundThing = true;\n            const newSensors = addNewElementToArray(\n              draft.things[index].sensors,\n              sensor\n            );\n            draft.things[index].sensors = [...newSensors];\n            break;\n          }\n        }\n      }\n\n      if (!foundThing) {\n        if (!draft.sensors) {\n          draft.sensors = [];\n        }\n        // Add to free sensors list\n        const newSensors = addNewElementToArray(draft.sensors, sensor);\n        draft.sensors = [...newSensors];\n      } else {\n        if (draft.sensors) {\n          const newSensors = removeElementFromArray(draft.sensors, sensor.id);\n          if (newSensors) draft.sensors = [...newSensors];\n        }\n      }\n    }),\n    [addSimulationActuator]: produce((draft, { thingID, actuator }) => {\n      let foundThing = false;\n      if (draft.things) {\n        for (let index = 0; index < draft.things.length; index++) {\n          if (draft.things[index].id === thingID) {\n            foundThing = true;\n            const newActuators = addNewElementToArray(\n              draft.things[index].actuators,\n              actuator\n            );\n            draft.things[index].actuators = [...newActuators];\n            break;\n          }\n        }\n      }\n\n      if (!foundThing) {\n        if (!draft.actuators) {\n          draft.actuators = [];\n        }\n        // Add to free actuators list\n        const newActuators = addNewElementToArray(draft.actuators, actuator);\n        draft.actuators = [...newActuators];\n      } else {\n        if (draft.actuators) {\n          const newActuators = removeElementFromArray(\n            draft.actuators,\n            actuator.id\n          );\n          if (newActuators) draft.actuators = [...newActuators];\n        }\n      }\n    }),\n    [deleteSimulationSensor]: produce((draft, { sensorID, thingID }) => {\n      if (!thingID) {\n        // Remove a free sensors\n        const newSensors = removeElementFromArray(draft.sensors, sensorID);\n        if (newSensors) {\n          draft.sensors = [...newSensors];\n        }\n      } else {\n        // Remove sensors from a thing\n        let foundThing = false;\n        for (let index = 0; index < draft.things.length; index++) {\n          if (draft.things[index].id === thingID) {\n            foundThing = true;\n            const newSensors = removeElementFromArray(\n              draft.things[index].sensors,\n              sensorID\n            );\n            if (newSensors) {\n              draft.things[index].sensors = [...newSensors];\n            }\n            break;\n          }\n        }\n        if (!foundThing) {\n          console.log(`[ERROR] Cannot remove ${sensorID} from ${thingID}`);\n        }\n      }\n    }),\n    [changeStatusSensor]: produce((draft, { sensorID, thingID }) => {\n      if (!thingID) {\n        // free sensors\n        if (draft.sensors) {\n          for (let index = 0; index < draft.sensors.length; index++) {\n            if (draft.sensors[index].id === sensorID) {\n              draft.sensors[index].enable = !draft.sensors[index].enable;\n              return;\n            }\n          }\n        }\n        console.log(`[ERROR] Cannot change status of sensor ${sensorID} in ${thingID}`);\n      } else {\n        // Remove sensors from a thing\n        for (let tIndex = 0; tIndex < draft.things.length; tIndex++) {\n          if (draft.things[tIndex].id === thingID) {\n            for (let index = 0; index < draft.things[tIndex].sensors.length; index++) {\n              if (draft.things[tIndex].sensors[index].id === sensorID) {\n                draft.things[tIndex].sensors[index].enable = !draft.things[tIndex].sensors[index].enable;\n                return;\n              }\n            }\n            break;\n          }\n        }\n        console.log(`[ERROR] Cannot change status of sensor ${sensorID} in ${thingID}`);\n      }\n    }),\n    [deleteSimulationActuator]: produce((draft, { actuatorID, thingID }) => {\n      if (!thingID) {\n        // Remove a free actuators\n        const newActuators = removeElementFromArray(\n          draft.actuators,\n          actuatorID\n        );\n        if (newActuators) {\n          draft.actuators = [...newActuators];\n        }\n      } else {\n        // Remove actuators from a thing\n        let foundThing = false;\n        for (let index = 0; index < draft.things.length; index++) {\n          if (draft.things[index].id === thingID) {\n            foundThing = true;\n            const newActuators = removeElementFromArray(\n              draft.things[index].actuators,\n              actuatorID\n            );\n            if (newActuators) {\n              draft.things[index].actuators = [...newActuators];\n            }\n            break;\n          }\n        }\n        if (!foundThing) {\n          console.log(`[ERROR] Cannot remove ${actuatorID} from ${thingID}`);\n        }\n      }\n    }),[changeStatusActuator]: produce((draft, { actuatorID, thingID }) => {\n      if (!thingID) {\n        // free actuator\n        if (draft.actuators) {\n          for (let index = 0; index < draft.actuators.length; index++) {\n            if (draft.actuators[index].id === actuatorID) {\n              draft.actuators[index].enable = !draft.actuators[index].enable;\n              return;\n            }\n          }\n        }\n        console.log(`[ERROR] Cannot change status of actuator ${actuatorID} in ${thingID}`);\n      } else {\n        // Remove sensors from a thing\n        for (let tIndex = 0; tIndex < draft.things.length; tIndex++) {\n          if (draft.things[tIndex].id === thingID) {\n            for (let index = 0; index < draft.things[tIndex].actuators.length; index++) {\n              if (draft.things[tIndex].actuators[index].id === actuatorID) {\n                draft.things[tIndex].actuators[index].enable = !draft.things[tIndex].actuators[index].enable;\n                return;\n              }\n            }\n            break;\n          }\n        }\n        console.log(`[ERROR] Cannot change status of actuator ${actuatorID} in ${thingID}`);\n      }\n    })\n  },\n  initState\n);","import { createReducer } from \"redux-act\";\n\nimport {\n  uploadModelOK,\n  uploadModel,\n  requestModel,\n  sendDeployStop,\n  sendDeployStart,\n  setModel,\n  deployStopOK,\n  deployStartOK,\n  setNotification,\n  requestLogs,\n  requestLogsOK\n} from \"../actions\";\n\nconst initState = false;\n\nexport default createReducer(\n  {\n    [uploadModel]: state => true,\n    [requestModel]: state => true,\n    [sendDeployStop]: state => true,\n    [sendDeployStart]: state => true,\n    [setNotification]: state => false,\n    [setModel]: state => false,\n    [uploadModelOK]: state => false,\n    [deployStopOK]: state => false,\n    [deployStartOK]: state => false,\n    [requestLogs]: state => true,\n    [requestLogsOK]: state => false\n  },\n  initState\n);\n","import { createReducer } from \"redux-act\";\nimport {\n  setNotification,\n  resetNotification,\n  addThing,\n  deleteThing,\n  addSimulationSensor,\n  addSimulationActuator,\n  deleteSimulationSensor,\n  deleteSimulationActuator,\n} from \"../actions\";\n\nexport default createReducer(\n  {\n    [setNotification]: (state, { type, message }) => ({ type, message }),\n    [resetNotification]: state => null,\n    [addThing]: (state, thing) => ({\n      type: \"success\",\n      message: `Thing ${thing.id} has been added!`\n    }),\n    [deleteThing]: (state, thingID) => ({\n      type: \"success\",\n      message: `Thing ${thingID} has been removed!`\n    }),\n    [addSimulationSensor]: (state, {sensor, thingID}) => ({\n      type: \"success\",\n      message: `Sensor ${sensor.id} has been added ${thingID? `into Thing ${thingID}`: ''}!`\n    }),\n    [deleteSimulationSensor]: (state, {sensorID, thingID}) => ({\n      type: \"success\",\n      message: `Sensor ${sensorID} has been removed${thingID? `from Thing ${thingID}`: ''}!`\n    }),\n    [addSimulationActuator]: (state, {actuator, thingID}) => ({\n      type: \"success\",\n      message: `Actuator ${actuator.id} has been added ${thingID? `into Thing ${thingID}`: ''}!`\n    }),\n    [deleteSimulationActuator]: (state, {actuatorID, thingID}) => ({\n      type: \"success\",\n      message: `Actuator ${actuatorID} has been removed${thingID? `from Thing ${thingID}`: ''}!`\n    })\n  },\n  null\n);\n","import { createReducer } from \"redux-act\";\nimport produce from 'immer';\nimport { requestLogsOK, requestLogFilesOK, requestDeleteLogFile } from \"../actions\";\n\nconst initState = {\n  logs: null,\n  logFiles: []\n};\n\nexport default createReducer(\n  {\n    [requestLogsOK]: (state, logs) => ({...state, logs}),\n    [requestLogFilesOK]: (state, logFiles) => ({...state, logFiles}),\n    [requestDeleteLogFile]: produce((draft, {isDG, logFile}) => {\n      const index = draft.logFiles.indexOf(logFile);\n      if (index > - 1) {\n        draft.logFiles.splice(index, 1);\n      }\n    })\n  },\n  initState\n);\n","import { createReducer } from 'redux-act';\nimport { selectThing, selectSensor, selectActuator, showModal } from '../actions';\n\nconst initState = {\n  formID: null,\n  selectedThing: null,\n  selectedSensor: null,\n  selectedActuator: null,\n  dataStorage: null\n}\nexport default createReducer({\n  [showModal] : (state, formID) => ({...state, formID}),\n  [selectThing] : (state, selectedThing) => ({...state, selectedThing}),\n  [selectSensor] : (state, selectedSensor) => ({...state, selectedSensor}),\n  [selectActuator] : (state, selectedActuator) => ({...state, selectedActuator})\n}, initState);\n","import { createReducer } from 'redux-act';\nimport { setDeployStatus } from '../actions';\n\nexport default createReducer({\n  [setDeployStatus] : (state, status) => status\n}, false);\n","import { createReducer } from \"redux-act\";\nimport { requestStatsOK } from \"../actions\";\n\nconst initState = [];\n\nexport default createReducer(\n  {\n    [requestStatsOK]: (state, stats) => (stats),\n  },\n  initState\n);\n","import {\n  combineReducers\n} from 'redux';\n\nimport modelReducer from './modelReducer';\nimport requestingReducer from './requestingReducer';\nimport notificationReducer from './notificationReducer';\nimport logsReducer from './logsReducer';\nimport editingFormReducer from './editingFormReducer';\nimport deployStatusReducer from './deployStatusReducer';\nimport statsReducer from './statsReducer';\n\nconst rootReducer = combineReducers({\n  model: modelReducer,\n  stats: statsReducer,\n  logs: logsReducer,\n  notify: notificationReducer,\n  requesting: requestingReducer,\n  editingForm: editingFormReducer,\n  deployStatus: deployStatusReducer,\n});\n\nexport default rootReducer;\n","// read and pass the environment variables into reactjs application\n// const URL = `http://localhost:31057`;\nconst URL = \"\";\n\nconst requestModel = async (tool) => {\n  const url = `${URL}/api/${tool}/model`;\n  const response = await fetch(url);\n  const data = await response.json();\n  if (data.error) {\n    throw data.error;\n  }\n  return data.model;\n};\n\nconst uploadModel = async (tool, model) => {\n  const url = `${URL}/api/${tool}/model`;\n  const response = await fetch(url,{\n    method: 'POST',\n    headers: {\n      'Content-Type':'application/json'\n    },\n    body: JSON.stringify({model})\n  });\n  const data = await response.json();\n  if (data.error) {\n    throw data.error;\n  }\n  return data.model;\n};\n\nconst requestLogs = async (tool, logFile) => {\n  const url = `${URL}/api/${tool}/logs/${logFile}`;\n  const response = await fetch(url);\n  const data = await response.json();\n  if (data.error) {\n    throw data.error;\n  }\n  return data.content;\n};\n\nconst requestStats = async (tool) => {\n  const url = `${URL}/api/${tool}/stats`;\n  const response = await fetch(url);\n  const data = await response.json();\n  if (data.error) {\n    throw data.error;\n  }\n  return data.stats;\n};\n\nconst requestDeleteLogFile = async (tool, logFile) => {\n  const url = `${URL}/api/${tool}/logs/${logFile}`;\n  const response = await fetch(url, {\n    method: 'POST'\n  });\n  const data = await response.json();\n  if (data.error) {\n    throw data.error;\n  }\n  return data.result;\n};\n\n\nconst requestLogFiles = async (tool) => {\n  const url = `${URL}/api/${tool}/logs`;\n  const response = await fetch(url);\n  const data = await response.json();\n  if (data.error) {\n    throw data.error;\n  }\n  return data.files;\n};\n\nconst requestStartDeploy = async (tool, model) => {\n  const url = `${URL}/api/${tool}/deploy`;\n  const response = await fetch(url,{\n    method: 'POST',\n    headers: {\n      'Content-Type':'application/json'\n    },\n    body: JSON.stringify({model})\n  });\n  const data = await response.json();\n  if (data.error) {\n    throw data.error;\n  }\n  return data.deployStatus;\n};\n\nconst requestStopDeploy = async (tool) => {\n  const url = `${URL}/api/${tool}/stop`;\n  const response = await fetch(url);\n  const data = await response.json();\n  if (data.error) {\n    throw data.error;\n  }\n  return data.deployStatus;\n};\n\nconst requestDeployStatus = async (tool) => {\n  const url = `${URL}/api/${tool}/status`;\n  const response = await fetch(url);\n  const status = await response.json();\n  if (status.error) {\n    throw status.error;\n  }\n  return status.deployStatus;\n};\n\nexport {\n  requestModel,\n  uploadModel,\n  requestStartDeploy,\n  requestStopDeploy,\n  requestDeployStatus,\n  requestLogs,\n  requestLogFiles,\n  requestDeleteLogFile,\n  requestStats,\n};\n","// watcher saga -> actions -> worker saga\nimport {\n  call,\n  put,\n  takeEvery,\n} from 'redux-saga/effects';\n\nimport {\n  requestModel\n} from '../api';\nimport {\n  setModel,\n  setNotification\n} from '../actions';\n\nfunction* handleRequestModel(action) {\n  try {\n    const tool = action.payload ? 'data-generator' : 'simulation';\n    const model = yield call(() => requestModel(tool));\n    yield put(setModel(model));\n    // dispatch data\n  } catch (error) {\n    // dispatch error\n    yield put(setNotification({type: 'error', message: error}));\n  }\n}\n\nfunction* watchRequestModel() {\n  yield takeEvery('REQUEST_MODEL', handleRequestModel);\n}\n\nexport default watchRequestModel;\n","// watcher saga -> actions -> worker saga\nimport { call, put, takeEvery, select } from \"redux-saga/effects\";\n\nimport { uploadModel } from \"../api\";\nimport { uploadModelOK, setNotification } from \"../actions\";\n\nconst getModel = ({ model }) => model;\n\nfunction* handleSaveModel(action) {\n  try {\n    const tool = action.payload ? 'data-generator' : 'simulation';\n    let model = yield select(getModel);\n    if (model) {\n      const data = yield call(() => uploadModel(tool, model));\n      yield put(uploadModelOK(data.data));\n      yield put(setNotification({type: 'success', message: `Model ${model.name} has been updated!`}));\n    } else {\n      throw Error(\"Undefined model\");\n    }\n    // dispatch data\n  } catch (error) {\n    // dispatch error\n    yield put(setNotification({type: 'error', message: error}));\n  }\n}\n\nfunction* watchSaveModel() {\n  yield takeEvery(\"UPLOAD_MODEL\", handleSaveModel);\n}\n\nexport default watchSaveModel;\n","// watcher saga -> actions -> worker saga\nimport { call, put, takeEvery, select } from \"redux-saga/effects\";\n\nimport {\n  requestStartDeploy,\n  requestStopDeploy,\n  requestDeployStatus\n} from \"../api\";\nimport {\n  deployStartOK,\n  deployStopOK,\n  setNotification,\n  setDeployStatus\n} from \"../actions\";\n\nconst getModel = ({ model }) => model;\n\nfunction* handleRequestStartDeploy(action) {\n  try {\n    const tool = action.payload ? 'data-generator' : 'simulation';\n    const model = yield select(getModel);\n    const status = yield call(() => requestStartDeploy(tool, model));\n    yield put(deployStartOK());\n    yield put(setDeployStatus(status));\n    yield put(\n      setNotification({\n        type: \"success\",\n        message: `${tool.toUpperCase()} has been started!`\n      })\n    );\n    // dispatch data\n  } catch (error) {\n    // dispatch error\n    yield put(setNotification({ type: \"error\", message: error }));\n  }\n}\n\nfunction* handleRequestStopDeploy(action) {\n  try {\n    const tool = action.payload ? 'data-generator' : 'simulation';\n    yield call(() => requestStopDeploy(tool));\n    yield put(deployStopOK());\n    yield put(setDeployStatus(null));\n    yield put(\n      setNotification({\n        type: \"success\",\n        message: `${tool.toUpperCase()} has been stopped!`\n      })\n    );\n    // dispatch data\n  } catch (error) {\n    // dispatch error\n    yield put(setNotification({ type: \"error\", message: error }));\n  }\n}\n\nfunction* handleRequestDeployStatus(action) {\n  try {\n    const tool = action.payload ? 'data-generator' : 'simulation';\n    const status = yield call(() => requestDeployStatus(tool));\n    // dispatch data\n    yield put(setDeployStatus(status));\n  } catch (error) {\n    // dispatch error\n    yield put(setNotification({ type: \"error\", message: error }));\n  }\n}\n\nfunction* watchDeploy() {\n  yield takeEvery(\"SEND_DEPLOY_START\", handleRequestStartDeploy);\n  yield takeEvery(\"SEND_DEPLOY_STOP\", handleRequestStopDeploy);\n  yield takeEvery(\"REQUEST_DEPLOY_STATUS\", handleRequestDeployStatus);\n}\n\nexport default watchDeploy;\n","// watcher saga -> actions -> worker saga\nimport { call, put, takeEvery } from \"redux-saga/effects\";\n\nimport { requestLogs, requestLogFiles, requestDeleteLogFile } from \"../api\";\nimport { requestLogsOK, setNotification, requestLogFilesOK } from \"../actions\";\n\nfunction* handleRequestLogFiles(action) {\n  try {\n    const isDG = action.payload;\n    const tool = isDG ? 'data-generator':'simulation';\n    const logFiles = yield call(() => requestLogFiles(tool));\n    yield put(requestLogFilesOK(logFiles));\n    // dispatch data\n  } catch (error) {\n    // dispatch error\n    yield put(setNotification({ type: \"error\", message: error }));\n  }\n}\n\nfunction* handleRequestLogs(action) {\n  try {\n    const {isDG, logFile} = action.payload;\n    const tool = isDG ? 'data-generator' : 'simulation';\n    const logs = yield call(() => requestLogs(tool, logFile));\n    yield put(requestLogsOK(logs));\n    // dispatch data\n  } catch (error) {\n    // dispatch error\n    yield put(setNotification({type: 'error', message: error}));\n  }\n}\n\nfunction* handleRequestDeleteLogFile(action) {\n  try {\n    const {isDG, logFile} = action.payload;\n    const tool = isDG ? 'data-generator' : 'simulation';\n    yield call(() => requestDeleteLogFile(tool, logFile));\n    // dispatch data\n  } catch (error) {\n    // dispatch error\n    yield put(setNotification({type: 'error', message: error}));\n  }\n}\n\nfunction* watchRequestLogs() {\n  yield takeEvery('REQUEST_LOGS', handleRequestLogs);\n  yield takeEvery(\"REQUEST_LOGFILES\", handleRequestLogFiles);\n  yield takeEvery(\"REQUEST_DELETE_LOG_FILE\", handleRequestDeleteLogFile);\n}\n\nexport default watchRequestLogs;\n","// watcher saga -> actions -> worker saga\nimport { call, put, takeEvery } from \"redux-saga/effects\";\n\nimport { requestStats } from \"../api\";\nimport { requestStatsOK, setNotification } from \"../actions\";\n\nfunction* handleRequestStats(action) {\n  try {\n    const {isDG} = action.payload;\n    const tool = isDG ? 'data-generator' : 'simulation';\n    const stats = yield call(() => requestStats(tool));\n    yield put(requestStatsOK(stats));\n    // dispatch data\n  } catch (error) {\n    // dispatch error\n    yield put(setNotification({type: 'error', message: error}));\n  }\n}\n\nfunction* watchRequestStats() {\n  yield takeEvery('REQUEST_STATS', handleRequestStats);\n}\n\nexport default watchRequestStats;\n","import { all } from \"redux-saga/effects\";\n\nimport requestModelSaga from \"./requestModelSaga\";\nimport uploadModelSaga from \"./uploadModelSaga\";\nimport deploySaga from \"./deploySaga\";\nimport requestLogsSaga from './requestLogsSaga';\nimport requestStats from \"./requestStatsSaga\";\n\nfunction* rootSaga() {\n  yield all([\n    requestModelSaga(),\n    uploadModelSaga(),\n    deploySaga(),\n    requestLogsSaga(),\n    requestStats(),\n  ]);\n}\n\nexport default rootSaga;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\nimport rootReducer from '../reducers';\nimport rootSaga from '../sagas';\n\nconst configStore = () => {\n  const sagaMiddleware = createSagaMiddleware();\n  const store = createStore(\n    rootReducer,\n    compose(\n      applyMiddleware(sagaMiddleware)\n      ,\n      window.__REDUX_DEVTOOLS_EXTENSION__ ?\n        window.__REDUX_DEVTOOLS_EXTENSION__() : f => f,\n    ),\n  );\n  sagaMiddleware.run(rootSaga);\n  return store;\n};\n\nexport default configStore;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Layout, Menu, Row, Col, Typography, Spin } from \"antd\";\nimport {\n  CaretRightOutlined,\n  GatewayOutlined,\n  ProfileOutlined,\n  DeploymentUnitOutlined,\n  StopOutlined,\n  ImportOutlined,\n  ClearOutlined,\n  ExportOutlined,\n} from \"@ant-design/icons\";\n\nimport {\n  setModel,\n  resetModel,\n  sendDeployStart,\n  sendDeployStop,\n  setNotification,\n  requestLogFiles,\n} from \"../../actions\";\nimport \"./styles.css\";\nimport { isDataGenerator } from \"../../utils\";\n\nconst { SubMenu } = Menu;\nconst { Header } = Layout;\nconst { Text } = Typography;\n\nclass TSHeader extends Component {\n  onUpload(files) {\n    const fileReader = new FileReader();\n    fileReader.onloadend = () => {\n      try {\n        const newModel = JSON.parse(fileReader.result);\n        this.props.setNewModel(newModel);\n      } catch (error) {\n        this.props.setNotification({ type: \"error\", message: error });\n      }\n    };\n    fileReader.readAsText(files[0]);\n  }\n\n  exportModel(model) {\n    if (model) {\n      const fileData = JSON.stringify(model);\n      const blob = new Blob([fileData], { type: \"text/json\" });\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement(\"a\");\n      link.download = `${model.name.replace(/ /g, \"\")}.json`;\n      link.href = url;\n      link.click();\n    }\n  }\n\n  render() {\n    const {\n      resetEditor,\n      startDeploy,\n      stopDeploy,\n      deployStatus,\n      model,\n    } = this.props;\n    const isDG = isDataGenerator();\n    const logo =\n      isDG\n        ? \"/img/logo-data-generator.png\"\n        : \"/img/logo-simulation.png\";\n    return (\n      <Header>\n        <Row>\n          <Col span={4}>\n            <a href=\"/\">\n              <img\n                src={logo}\n                className=\"logo\"\n                alt=\"Logo\"\n                style={{ maxWidth: \"250px\", objectFit: \"contain\" }}\n              />\n            </a>\n          </Col>\n          <Col span={14} push={6}>\n            <Menu theme=\"dark\" mode=\"horizontal\" style={{ lineHeight: \"64px\" }}>\n              <SubMenu\n                title={\n                  <a\n                    className=\"submenu-title-wrapper\"\n                    href={isDG ? \"/data-generator\" : \"/\"}\n                  >\n                    <GatewayOutlined />\n                    Model\n                  </a>\n                }\n              >\n                <Menu.Item\n                  key=\"model:1\"\n                  onClick={() => this.inputFileDOM.click()}\n                >\n                  <ImportOutlined /> Import Model\n                </Menu.Item>\n                <Menu.Item\n                  key=\"model:2\"\n                  onClick={() => this.exportModel(model)}\n                >\n                  <ExportOutlined />\n                  Export Model\n                </Menu.Item>\n                <Menu.Item key=\"model:3\" onClick={resetEditor}>\n                  <ClearOutlined />\n                  Reset Editor\n                </Menu.Item>\n              </SubMenu>\n              <SubMenu\n                title={\n                  <span className=\"submenu-title-wrapper\">\n                    {deployStatus ? <Spin indicator={<DeploymentUnitOutlined spin style={{fontSize: '24'}}/>}/>: <DeploymentUnitOutlined />}\n                    {isDG ? \"Generate \" : \"Simulate \"}\n                  </span>\n                }\n              >\n                <Menu.Item key=\"deploy:1\" onClick={() => startDeploy(isDG)}>\n                  <CaretRightOutlined />\n                  {isDG ? \"Generate\" : \"Simulate\"}\n                </Menu.Item>\n                <Menu.Item key=\"deploy:2\" onClick={() => stopDeploy(isDG)}>\n                  <StopOutlined />\n                  Terminate\n                </Menu.Item>\n              </SubMenu>\n              <Menu.Item key=\"3\">\n                <a href={isDG ? \"/data-generator/logs\" : \"/logs\"} rel=\"noopener noreferrer\" target=\"_blank\">\n                  <ProfileOutlined />\n                  Logs\n                </a>\n              </Menu.Item>\n              <Menu.Item key=\"4\">\n                <a href={isDG ? \"/\" : \"/data-generator\"} rel=\"noopener noreferrer\" target=\"_blank\">\n                  <ExportOutlined />\n                  <Text style={{ color: \"#ffff00fc\" }}>\n                    {isDG ? \"Simulation\" : \"Data Generator\"}\n                  </Text>\n                </a>\n              </Menu.Item>\n            </Menu>\n          </Col>\n        </Row>\n\n        <input\n          type=\"file\"\n          onChange={(event) => this.onUpload(event.target.files)}\n          ref={(input) => {\n            this.inputFileDOM = input;\n          }}\n          style={{ display: \"none\" }}\n          accept=\".json\"\n          multiple={false}\n        />\n      </Header>\n    );\n  }\n}\n\nconst mapPropsToStates = ({ requesting, model, deployStatus }) => ({\n  requesting,\n  model,\n  deployStatus,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  setNotification: ({ type, message }) =>\n    dispatch(setNotification({ type, message })),\n  setNewModel: (newModel) => {\n    dispatch(setModel(newModel));\n  },\n  resetEditor: () => {\n    dispatch(resetModel());\n  },\n  startDeploy: (isDG) => dispatch(sendDeployStart(isDG)),\n  stopDeploy: (isDG) => dispatch(sendDeployStop(isDG)),\n  viewLogs: () => {\n    dispatch(requestLogFiles());\n  }\n});\n\nexport default connect(mapPropsToStates, mapDispatchToProps)(TSHeader);\n","import TSHeader from './TSHeader';\n\nexport default TSHeader;\n","import React from \"react\";\nimport { Layout } from 'antd';\nimport VERSION from \"../../VERSION\";\n\nconst { Footer } = Layout;\nconst TSFooter = () => (\n  <Footer style={{ textAlign: \"center\" }}>\n    ENACT ©{new Date().getFullYear()} Created by{\" \"}\n    <a href=\"https://www.montimage.com\">Montimage</a>. Version {VERSION}\n  </Footer>\n);\n\nexport default TSFooter;\n","import TSFooter from './TSFooter';\n\nexport default TSFooter;","import TSModal from './TSModal';\n\nexport default TSModal;","import React from \"react\";\nimport { Modal } from \"antd\";\nimport \"./style.css\";\n\nconst TSModal = ({ visible, title, footer, onCancel, children }) => (\n  <Modal visible={visible} title={title} footer={footer} onCancel={onCancel}>\n    {children}\n  </Modal>\n);\n\nexport default TSModal;\n","import React from 'react';\nimport { Form, Input } from \"antd\";\n\nconst FormTextItem = ({label, defaultValue, onChange, placeholder}) =>(\n  <Form.Item label={label}>\n    {defaultValue ? (\n      <Input\n        defaultValue={defaultValue}\n        onChange={v => onChange(v.target.value)}\n      />\n    ):(\n      <Input\n        onChange={v => onChange(v.target.value)}\n        placeholder={placeholder}\n      />\n    )}\n  </Form.Item>\n);\n\nexport default FormTextItem;","import React from 'react';\nimport { Form, Select } from \"antd\";\n\nconst FormSelectItem = ({label, defaultValue, onChange, options}) => (\n  <Form.Item label={label}>\n    <Select\n      defaultValue={defaultValue ? defaultValue : (options ? options[0] : null) }\n      onChange={v => onChange( v)}\n    >\n      {options.map(tid => (\n        <Select.Option value={tid} key={tid}>{tid}</Select.Option>\n      ))}\n    </Select>\n  </Form.Item>\n)\n\nexport default FormSelectItem;","import React from 'react';\nimport { Form, InputNumber } from \"antd\";\n\nconst FormNumberItem = ({label, defaultValue, min, max, onChange, placeholder}) =>(\n  <Form.Item label={label}>\n    {defaultValue ? (\n      <InputNumber\n        min={min}\n        max={max}\n        defaultValue={defaultValue}\n        onChange={v => onChange(v)}\n        placeholder={placeholder}\n      />\n    ):(\n      <InputNumber\n        min={min}\n        max={max}\n        onChange={v => onChange(v)}\n        placeholder={placeholder}\n      />\n    )}\n  </Form.Item>\n);\n\nexport default FormNumberItem;","import React from \"react\";\nimport { Form, DatePicker } from \"antd\";\nimport moment from 'moment';\n\nconst { RangePicker } = DatePicker;\n\nconst FormTimeRangeItem = ({ label, onChange, defaultValue }) => {\n  let startTime = moment();\n  let endTime = moment();\n  if (defaultValue && defaultValue.length === 2) {\n    startTime = moment(defaultValue[0]);\n    endTime = moment(defaultValue[1]);\n  }\n  return (\n    <Form.Item label={label}>\n    <RangePicker\n      defaultValue={[startTime, endTime]}\n      showTime={{ format: \"HH:mm\" }}\n      format=\"YYYY-MM-DD HH:mm\"\n      onChange={(value, dateString) =>\n        onChange([\n          new Date(dateString[0]).getTime(),\n          new Date(dateString[1]).getTime()\n        ])\n      }\n    />\n  </Form.Item>\n  )\n};\n\nexport default FormTimeRangeItem;\n","import React from 'react';\nimport { Form, Switch } from \"antd\";\n\nconst FormSwitchItem = ({label, checked, onChange, checkedChildren, unCheckedChildren}) =>(\n  <Form.Item label={label}>\n    <Switch\n      onChange={v => onChange(v)}\n      checkedChildren={checkedChildren}\n      unCheckedChildren={unCheckedChildren}\n      checked={checked}\n    />\n  </Form.Item>\n);\n\nexport default FormSwitchItem;","import React from \"react\";\nimport { Form, Checkbox } from \"antd\";\n\nconst FormCheckBoxItem = ({ label, defaultValue, onChange, options }) => (\n  <Form.Item label={label}>\n    <Checkbox.Group\n      options={options}\n      defaultValue={defaultValue}\n      onChange={onChange}\n    />\n  </Form.Item>\n);\n\nexport default FormCheckBoxItem;\n","import React from \"react\";\nimport { Form, InputNumber, List, Card } from \"antd\";\n\nconst FormRegularNumberItem = ({ label, items, onChange }) => (\n  <Form.Item label={label}>\n    <List\n      grid={{ gutter: 16, column: items.length }}\n      dataSource={items}\n      renderItem={(item) => (\n        <List.Item>\n          <Card size=\"small\" bordered={false}  title={item.title}>\n            <InputNumber\n              onChange={(v) => onChange(item.dataPath, v)}\n              defaultValue={item.defaultValue ? item.defaultValue : 0}\n              placeholder={item.title}\n            />\n          </Card>\n        </List.Item>\n      )}\n    />\n  </Form.Item>\n);\n\nexport default FormRegularNumberItem;\n","import React from \"react\";\nimport { Form, Typography } from \"antd\";\nconst { Paragraph } = Typography;\n\nconst FormEditableTextItem = ({ label, defaultValue, onChange }) => (\n  <Form.Item label={label}>\n      <Paragraph\n        editable={{\n          onChange: (v) => {\n            onChange(v);\n          },\n        }}\n      >\n        {defaultValue}\n      </Paragraph>\n  </Form.Item>\n);\n\nexport default FormEditableTextItem;\n","import React from \"react\";\n\nimport FormTextItem from '../FormItems/FormTextItem';\nconst MongoDBOptions = ({ defaultValue, dataPath, onDataChange }) => (\n  <React.Fragment>\n    <FormTextItem\n      label=\"User\"\n      defaultValue={defaultValue.user}\n      onChange={v => onDataChange(`${dataPath ? `${dataPath}.` : ''}user`, v)}\n      placeholder=\"Username\"\n    />\n    <FormTextItem\n      label=\"Password\"\n      defaultValue={defaultValue.password}\n      onChange={v => onDataChange(`${dataPath ? `${dataPath}.` : ''}password`, v)}\n      placeholder=\"Password\"\n    />\n    <FormTextItem\n      label=\"Database\"\n      defaultValue={defaultValue.dbname}\n      onChange={v => onDataChange(`${dataPath ? `${dataPath}.` : ''}dbname`, v)}\n      placeholder=\"Database name\"\n    />\n  </React.Fragment>\n);\n\nexport default MongoDBOptions;\n","import React from \"react\";\nimport { Collapse } from \"antd\";\n\nconst { Panel } = Collapse;\n\nconst CollapseForm = ({ title, children, bordered = true, active }) => (\n  <Collapse accordion style={{margin: '10px'}} defaultActiveKey={active ? ['1'] : null} bordered={bordered}>\n    <Panel header={title} key=\"1\">\n      {children}\n    </Panel>\n  </Collapse>\n);\n\nexport default CollapseForm;\n","import CollapseForm from './CollapseForm';\nexport default CollapseForm;","import ConnectionConfig from './ConnectionConfig';\nexport default ConnectionConfig;","import React from \"react\";\n\nimport FormTextItem from \"../FormItems/FormTextItem\";\nimport FormNumberItem from \"../FormItems/FormNumberItem\";\nimport MongoDBOptions from \"./MongoDBOptions\";\nimport CollapseForm from \"../CollapseForm\";\n\nconst ConnectionConfig = ({ defaultValue, dataPath, onDataChange, type }) => (\n  <CollapseForm title=\"Connection Configuration\" bordered={false} active={true}>\n    <FormTextItem\n      label=\"Host\"\n      defaultValue={defaultValue.host}\n      onChange={(v) => onDataChange(`${dataPath ? `${dataPath}.` : \"\"}host`, v)}\n    />\n    <FormNumberItem\n      label=\"Port\"\n      min={1023}\n      max={65535}\n      defaultValue={defaultValue.port}\n      onChange={(v) => onDataChange(`${dataPath ? `${dataPath}.` : \"\"}port`, v)}\n    />\n    {type === \"MONGODB\" && (\n      <React.Fragment>\n        <MongoDBOptions\n          defaultValue={defaultValue}\n          dataPath={dataPath}\n          onDataChange={onDataChange}\n        />\n      </React.Fragment>\n    )}\n    <FormTextItem\n      label=\"Options\"\n      defaultValue={JSON.stringify(defaultValue.options)}\n      onChange={(v) =>\n        onDataChange(`${dataPath ? `${dataPath}.` : \"\"}options`, v)\n      }\n      placeholder=\"Connection options in JSON format\"\n    />\n  </CollapseForm>\n);\n\nexport default ConnectionConfig;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport TSModal from \"../TSModal\";\nimport { addThing, deleteThing, showModal, selectThing } from \"../../actions\";\nimport { Form, Button, Alert } from \"antd\";\n\nimport {\n  FormTextItem,\n  FormSelectItem,\n  FormNumberItem,\n  FormSwitchItem,\n  FormCheckBoxItems\n} from \"../FormItems\";\nimport ConnectionConfig from '../ConnectionConfig';\nimport { updateObjectByPath, deepCloneObject, isDataGenerator } from \"../../utils\";\n\nclass ThingModal extends Component {\n  constructor(props) {\n    super(props);\n    const isDG = isDataGenerator();\n    const initThing = {\n      id: `dev-id-${Date.now()}`,\n      name: `dev-name-${Date.now()}`,\n      protocol: isDG ? \"DATABASE\":\"MQTT\",\n      behaviours: [],\n      timeToDown: 0,\n      connConfig: {\n        host: \"localhost\",\n        port: !isDG ? 1883: 27017 ,\n        options: null,\n      },\n      sensors: [],\n      actuators: [],\n      enable: true,\n    };\n    this.state = {\n      data: props.selectedThing ? deepCloneObject(props.selectedThing) : initThing,\n      error: null,\n      isDG: isDataGenerator()\n    };\n  }\n\n  // handleDelete() {\n  //   let deleted = false;\n  //   const { things, data, deleteThing } = this.props;\n  //   for (let index = 0; index < things.length; index++) {\n  //     const th = things[index];\n  //     if (th.id === data.id) {\n  //       deleteThing(data.id);\n  //       deleted = true;\n  //       break;\n  //     }\n  //   }\n\n  //   if (!deleted) {\n  //     this.setState(`Cannot delete thing ${data.id}: Not found!`);\n  //   }\n  // }\n\n  handleOk() {\n    // Validate data\n    const { addThing, showModal, selectThing } = this.props;\n    const { data } = this.state;\n    const newThing = { ...data };\n    let errorMsg = null;\n    if (newThing.connConfig.options) {\n      try {\n        const optionsValue = JSON.parse(newThing.connConfig.options);\n        updateObjectByPath(newThing, \"connConfig.options\", optionsValue);\n      } catch (error) {\n        errorMsg =\n          \"Invalid option! The communication options must be in JSON format\";\n      }\n    }\n    if (errorMsg) {\n      this.setState({ error: errorMsg });\n    } else {\n      addThing(data);\n      showModal(null);\n      selectThing(null);\n    }\n  }\n\n  handleCancel() {\n    this.props.showModal(null);\n    this.props.selectThing(null);\n  }\n\n  handleDuplicate() {\n    const { addThing, showModal, selectThing } = this.props;\n    const newThingID = `dev-id-${Date.now()}`;\n    const newData = { ...this.state.data };\n    updateObjectByPath(newData, \"id\", newThingID);\n    updateObjectByPath(newData, \"name\", \"New Device\");\n    addThing(newData);\n    selectThing(newData);\n    setTimeout(() => {\n      showModal(\"THING-FORM\");\n    }, 500);\n    showModal(null);\n  }\n\n  onDataChange(dataPath, value) {\n    this.setState((prevState) => {\n      const newData = { ...prevState.data };\n      // console.log(dataPath, value);\n      updateObjectByPath(newData, dataPath, value);\n      return { data: newData, error: null };\n    });\n  }\n\n  render() {\n    // this.onDataChange(\"connConfig.host\",\"localhost\");\n    // this.onDataChange(\"name\",\"NEW_NAME\");\n    const { data, error } = this.state;\n    const { formID } = this.props;\n    let footer = null;\n    if (this.props.selectedThing) {\n      footer = [\n        // <Button key=\"delete\" type=\"danger\" onClick={() => this.handleDelete()}>\n        //   Delete\n        // </Button>,\n        <Button key=\"duplicate\" onClick={() => this.handleDuplicate()}>\n          Duplicate\n        </Button>,\n        <Button key=\"cancel\" onClick={() => this.handleCancel()}>\n          Cancel\n        </Button>,\n        <Button key=\"ok\" type=\"primary\" onClick={() => this.handleOk()}>\n          OK\n        </Button>,\n      ];\n    } else {\n      footer = [\n        <Button key=\"cancel\" onClick={() => this.handleCancel()}>\n          Cancel\n        </Button>,\n        <Button key=\"ok\" type=\"primary\" onClick={() => this.handleOk()}>\n          OK\n        </Button>,\n      ];\n    }\n\n    return (\n      <TSModal\n        title={\"Device\"}\n        visible={formID === \"THING-FORM\" ? true : false}\n        onCancel={() => this.handleCancel()}\n        footer={footer}\n      >\n        <Form\n          labelCol={{\n            span: 4,\n          }}\n          wrapperCol={{\n            span: 14,\n          }}\n        >\n          <FormTextItem\n            label=\"Id\"\n            defaultValue={data.id}\n            onChange={(v) => this.onDataChange(\"id\", v)}\n          />\n          <FormTextItem\n            label=\"Name\"\n            defaultValue={data.name}\n            onChange={(v) => this.onDataChange(\"name\", v)}\n          />\n          <FormNumberItem\n            label=\"Number of Instance\"\n            min={1}\n            max={1000000}\n            placeholder=\"Number of instances\"\n            defaultValue={data.scale ? data.scale : 1}\n            onChange={(v) => this.onDataChange(\"scale\", v)}\n          />\n          <FormCheckBoxItems\n            label=\"Gateway Behaviours\"\n            defaultValue={data.behaviours ? data.behaviours : []}\n            onChange={(v) => this.onDataChange('behaviours', v)}\n            options={[\n              \"GATEWAY_DOWN\"\n            ]}\n          />\n          {data.behaviours && data.behaviours.indexOf(\"GATEWAY_DOWN\") > -1 && (\n            <FormNumberItem\n              label=\"Time Before Down\"\n              min={1}\n              max={65535}\n              defaultValue={data.timeToDown ? data.timeToDown : 10}\n              onChange={(v) => this.onDataChange('timeToDown', v)}\n            />\n          )}\n          <span>Communication detail</span>\n          <p />\n          {!this.state.isDG ? (\n            <React.Fragment>\n              <FormSelectItem\n                label=\"Protocol\"\n                defaultValue={data.protocol}\n                onChange={(v) => this.onDataChange(\"protocol\", v)}\n                options={[\"MQTT\", \"STOMP\"]}\n              />\n              <ConnectionConfig\n                defaultValue={data.connConfig}\n                dataPath={\"connConfig\"}\n                onDataChange={(dataPath, value) =>\n                  this.onDataChange(dataPath, value)\n                }\n                type={data.protocol}\n              />\n            </React.Fragment>\n          ) : (\n            <ConnectionConfig\n              defaultValue={data.connConfig}\n              dataPath={\"connConfig\"}\n              onDataChange={(dataPath, value) =>\n                this.onDataChange(dataPath, value)\n              }\n              type=\"MONGODB\"\n            />\n          )}\n          <FormSwitchItem\n            label=\"Enable\"\n            onChange={(v) => this.onDataChange(`enable`, v)}\n            checked={data.enable ? true : false}\n            checkedChildren={\"On\"}\n            unCheckedChildren={\"Off\"}\n          />\n        </Form>\n        {error && <Alert message={error} type=\"error\" />}\n      </TSModal>\n    );\n  }\n}\n\nconst mapPropsToStates = ({ editingForm, model }) => ({\n  formID: editingForm.formID,\n  selectedThing: editingForm.selectedThing,\n  things: model.things,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  showModal: (modalID) => dispatch(showModal(modalID)),\n  deleteThing: (thingID) => dispatch(deleteThing(thingID)),\n  addThing: (thingData) => dispatch(addThing(thingData)),\n  selectThing: (thing) => dispatch(selectThing(thing)),\n});\n\nexport default connect(mapPropsToStates, mapDispatchToProps)(ThingModal);\n","import ThingModal from './ThingModal';\nimport './style.css';\nexport default ThingModal;","import React from 'react';\nimport {\n  FormTextItem,\n  FormTimeRangeItem,\n} from \"../FormItems\";\n// import DatabaseConfigForm from \"../DatabaseConfigForm\";\nimport ConnectionConfig from \"../ConnectionConfig\";\n\nconst DataReplayerForm = ({dataPath, dataSource, onDataChange}) => (\n  <React.Fragment>\n    <ConnectionConfig\n      defaultValue={dataSource.connConfig}\n      dataPath={`${dataPath}.connConfig`}\n      onDataChange={(dPath, v) => onDataChange(dPath, v)}\n      type=\"MONGODB\"\n    />\n    <FormTextItem\n      label=\"sensor-id\"\n      defaultValue={dataSource.devId}\n      onChange={(v) => onDataChange(`${dataPath}.devId`, v)}\n    />\n    <FormTimeRangeItem\n      label=\"Time Range\"\n      defaultValue={[dataSource.startTime ? dataSource.startTime : Date.now(), dataSource.endTime ? dataSource.endTime : Date.now()]}\n      onChange={(v) => {\n        onDataChange(`${dataPath}.startTime`, v[0]);\n        onDataChange(`${dataPath}.endTime`, v[1]);\n      }}\n    />\n  </React.Fragment>\n);\n\nexport default DataReplayerForm;\n","import React from \"react\";\nimport { FormTextItem, FormCheckBoxItems } from \"../../FormItems\";\nimport \"./DataSourceForm.css\";\nimport { Button } from \"antd\";\nimport CollapseForm from \"../../CollapseForm\";\n\nconst defaultBehaviours = [\n  \"AB_FIX_VALUE\",\n  \"AB_INVALID_VALUE\",\n  \"NORMAL_BEHAVIOUR\",\n];\n\nconst DataSourceForm = ({\n  dataPath,\n  defaultValue,\n  onChange,\n  behaviours,\n  children,\n}) => (\n  <CollapseForm title={defaultValue.key}>\n      <FormTextItem\n        label=\"Resource Id\"\n        defaultValue={defaultValue.resourceId}\n        onChange={(v) => onChange(`${dataPath}.resourceId`, v)}\n        placeholder=\"Optional\"\n      />\n      <FormTextItem\n        label=\"key\"\n        defaultValue={defaultValue.key}\n        onChange={(v) => onChange(`${dataPath}.key`, v)}\n        placeholder=\"Require\"\n      />\n      <FormTextItem\n        label=\"unit\"\n        defaultValue={defaultValue.unit}\n        onChange={(v) => onChange(`${dataPath}.unit`, v)}\n        placeholder=\"Unit of the measurement\"\n      />\n      <FormCheckBoxItems\n        label=\"Behaviours\"\n        defaultValue={defaultValue.behaviours}\n        onChange={(v) => onChange(`${dataPath}.behaviours`, v)}\n        options={\n          behaviours ? defaultBehaviours.concat(behaviours) : defaultBehaviours\n        }\n      />\n      {children}\n      <Button type=\"danger\" onClick={() => onChange(dataPath, null)}>\n        Remove\n      </Button>\n  </CollapseForm>\n);\n\nexport default DataSourceForm;\n","import React from \"react\";\nimport DataSourceForm from \"./DataSourceForm\";\nimport { FormNumberItem, FormRegularNumberItem } from \"../../FormItems\";\n\nconst EnergyForm = ({ dataPath, defaultValue, onChange }) => (\n  <React.Fragment>\n    <DataSourceForm\n      dataPath={dataPath}\n      defaultValue={defaultValue}\n      onChange={(dPath, v) => onChange(dPath, v)}\n    >\n      <FormNumberItem\n        label=\"Init Value\"\n        min={1}\n        max={65535}\n        defaultValue={defaultValue.initValue}\n        onChange={(v) => onChange(`${dataPath}.initValue`, v)}\n      />\n      <FormRegularNumberItem\n        label=\"Energy\"\n        items={[\n          {\n            title: \"Consum\",\n            dataPath: `${dataPath}.consumInOnePeriod`,\n            defaultValue: defaultValue.consumInOnePeriod,\n          },\n          {\n            title: \"Low\",\n            dataPath: `${dataPath}.low`,\n            defaultValue: defaultValue.low,\n          },\n          {\n            title: \"Slow Down Rate\",\n            dataPath: `${dataPath}.slowDownRate`,\n            defaultValue: defaultValue.slowDownRate,\n          },\n        ]}\n        onChange={(dPath, v) => onChange(dPath, v)}\n      />\n    </DataSourceForm>\n  </React.Fragment>\n);\n\nexport default EnergyForm;\n","import React from \"react\";\nimport DataSourceForm from \"./DataSourceForm\";\nimport { FormSwitchItem } from \"../../FormItems\";\n\nconst BooleanForm = ({ dataPath, defaultValue, onChange }) => (\n  <React.Fragment>\n    <DataSourceForm\n      dataPath={dataPath}\n      defaultValue={defaultValue}\n      onChange={(dPath, v) => onChange(dPath, v)}\n    >\n      <FormSwitchItem\n        label=\"Init Value\"\n        onChange={(v) => onChange(`${dataPath}.initValue`, v)}\n        checked={defaultValue.initValue ? true : false}\n        checkedChildren={\"True\"}\n        unCheckedChildren={\"False\"}\n      />\n    </DataSourceForm>\n  </React.Fragment>\n);\n\nexport default BooleanForm;\n","import React from \"react\";\nimport DataSourceForm from \"./DataSourceForm\";\nimport { FormSelectItem, FormTextItem } from \"../../FormItems\";\n\nconst EnumForm = ({ dataPath, defaultValue, onChange }) => (\n  <React.Fragment>\n    <DataSourceForm\n      dataPath={dataPath}\n      defaultValue={defaultValue}\n      onChange={(dPath, v) => onChange(dPath, v)}\n    >\n      <FormSelectItem\n        label=\"Init Value\"\n        defaultValue={defaultValue.initValue}\n        onChange={(v) => onChange(`${dataPath}.initValue`, v)}\n        options={defaultValue.values}\n      />\n      <FormTextItem\n        label=\"Value\"\n        defaultValue={JSON.stringify(defaultValue.values)}\n        onChange={(v) => onChange(`${dataPath}.values`, JSON.parse(v))}\n        placeholder=\"List of value should be separated by comma (,)\"\n      />\n    </DataSourceForm>\n  </React.Fragment>\n);\n\nexport default EnumForm;\n","import React from \"react\";\nimport DataSourceForm from \"./DataSourceForm\";\nimport {\n  FormNumberItem,\n  FormRegularNumberItem,\n  FormSwitchItem,\n} from \"../../FormItems\";\nimport CollapseForm from '../../CollapseForm';\nconst defaultValueConstraints = {\n  min: 0,\n  max: 100,\n  regularMin: 0,\n  regularMax: 100,\n  step: 2,\n};\nconst ValueConstraintForm = ({ defaultValue, dataPath, onChange }) => (\n  <CollapseForm title={\"Value Constraints\"}>\n    <FormRegularNumberItem\n      label=\"Range\"\n      items={[\n        {\n          title: \"Min\",\n          dataPath: `${dataPath}.min`,\n          defaultValue: defaultValue.min,\n        },\n        {\n          title: \"Max\",\n          dataPath: `${dataPath}.max`,\n          defaultValue: defaultValue.max,\n        },\n      ]}\n      onChange={(dPath, v) => onChange(dPath, v)}\n    />\n    <FormRegularNumberItem\n      label=\"Regular Range\"\n      items={[\n        {\n          title: \"Regular Min\",\n          dataPath: `${dataPath}.regularMin`,\n          defaultValue: defaultValue.regularMin,\n        },\n        {\n          title: \"Regular Max\",\n          dataPath: `${dataPath}.regularMax`,\n          defaultValue: defaultValue.regularMax,\n        },\n        {\n          title: \"Step\",\n          dataPath: `${dataPath}.step`,\n          defaultValue: defaultValue.step,\n        },\n      ]}\n      onChange={(dPath, v) => onChange(dPath, v)}\n    />\n  </CollapseForm>\n);\n\nconst IntegerFloatForm = ({ dataPath, defaultValue, onChange }) => (\n  <React.Fragment>\n    <DataSourceForm\n      dataPath={dataPath}\n      defaultValue={defaultValue}\n      onChange={(dPath, v) => onChange(dPath, v)}\n      behaviours={[\n        \"AB_VALUE_OUT_OF_RANGE\",\n        \"AB_VALUE_OUT_OF_REGULAR_RANGE\",\n        \"AB_VALUE_CHANGE_OUT_OF_REGULAR_STEP\",\n      ]}\n    >\n      <FormNumberItem\n        label=\"Init Value\"\n        defaultValue={defaultValue.initValue}\n        onChange={(v) => onChange(`${dataPath}.initValue`, v)}\n      />\n      <FormSwitchItem\n        label=\"Value Constraints\"\n        onChange={(v) => onChange(`${dataPath}.withValueConstraints`, v)}\n        checked={defaultValue.withValueConstraints ? true : false}\n        checkedChildren={\"Enable\"}\n        unCheckedChildren={\"Disable\"}\n      />\n      {defaultValue.withValueConstraints ? (\n        defaultValue.valueConstraints ? (\n          <ValueConstraintForm\n            defaultValue={defaultValue.valueConstraints}\n            dataPath={`${dataPath}.valueConstraints`}\n            onChange={(dPath, v) => onChange(dPath, v)}\n          />\n        ) : (\n          <ValueConstraintForm\n            defaultValue={defaultValueConstraints}\n            dataPath={`${dataPath}.valueConstraints`}\n            onChange={(dPath, v) => onChange(dPath, v)}\n          />\n        )\n      ) : (\n        <React.Fragment></React.Fragment>\n      )}\n    </DataSourceForm>\n  </React.Fragment>\n);\n\nexport default IntegerFloatForm;\n","import React, { Fragment } from \"react\";\nimport BooleanForm from \"./BooleanForm\";\nimport EnumForm from \"./EnumForm\";\nimport IntegerFloatForm from \"./IntegerFloatForm\";\n\nconst MultipleDataSources = ({ dataPath, sources, onChange }) => (\n  <Fragment>\n    {sources.map((source, index) => {\n      if (source) {\n        switch (source.type) {\n          case \"DATA_SOURCE_BOOLEAN\":\n            return <BooleanForm\n              key={index}\n              dataPath={`${dataPath}[${index}]`}\n              defaultValue={source}\n              onChange={(dPath, v) => onChange(dPath, v)}\n            />;\n          case \"DATA_SOURCE_ENUM\":\n            return <EnumForm\n              key={index}\n              dataPath={`${dataPath}[${index}]`}\n              defaultValue={source}\n              onChange={(dPath, v) => onChange(dPath, v)}\n            />;\n          case \"DATA_SOURCE_INTEGER\":\n          case \"DATA_SOURCE_FLOAT\":\n            return <IntegerFloatForm\n              key={index}\n              dataPath={`${dataPath}[${index}]`}\n              defaultValue={source}\n              onChange={(dPath, v) => onChange(dPath, v)}\n            />;\n        }\n      }\n    })}\n  </Fragment>\n);\nexport default MultipleDataSources;\n","import React from \"react\";\nimport {\n  FormNumberItem,\n  FormCheckBoxItems,\n  FormSwitchItem,\n} from \"../FormItems\";\n\nimport EnergyForm from \"./DataSourceForms/EnergyForm\";\nimport MultipleDataSources from \"./DataSourceForms/MultipleDataSources\";\nimport { Button, Divider, Dropdown, Menu } from \"antd\";\nimport { UpOutlined } from \"@ant-design/icons\";\n\nconst initEnergy = () => ({\n  type: \"DATA_SOURCE_ENERGY\",\n  key: \"battery\",\n  resourceId: \"battery-01\",\n  initValue: 1500,\n  unit: \"mA\",\n  behaviours: [],\n  low: 1000,\n  slowDownRate: 2,\n  consumInOnePeriod: 200,\n});\n\nconst initBoolean = () => ({\n  type: \"DATA_SOURCE_BOOLEAN\",\n  key: \"your-boolean-data-key\",\n  resourceId: \"boolean-measure-id\",\n  initValue: true,\n  unit: \"\",\n  behaviours: [],\n});\n\nconst initEnum = () => ({\n  type: \"DATA_SOURCE_ENUM\",\n  key: \"your-enum-data-key\",\n  resourceId: \"enum-measure-id\",\n  initValue: \"value1\",\n  unit: \"\",\n  behaviours: [],\n  values: [\"value1\", \"value2\"],\n});\n\nconst initInteger = () => ({\n  type: \"DATA_SOURCE_INTEGER\",\n  key: \"your-integer-data-key\",\n  resourceId: \"integer-measure-id\",\n  initValue: 10,\n  unit: \"\",\n  behaviours: [],\n  valueConstraints: {\n    min: 0,\n    max: 100,\n    regularMin: 20,\n    regularMax: 80,\n    step: 1,\n  },\n});\n\nconst initFloat = () => ({\n  type: \"DATA_SOURCE_FLOAT\",\n  key: \"your-float-data-key\",\n  resourceId: \"float-measure-id\",\n  initValue: 10.0,\n  unit: \"\",\n  behaviours: [],\n  valueConstraints: {\n    min: 0,\n    max: 100,\n    regularMin: 20,\n    regularMax: 80,\n    step: 1,\n  },\n});\n\nconst DataGeneratorForm = ({\n  dataPath,\n  dataSource,\n  onDataChange,\n  showEnergyOption = true,\n}) => (\n  <React.Fragment>\n    <FormNumberItem\n      label=\"Number of Instance\"\n      min={1}\n      max={1000000}\n      placeholder=\"Number of instances\"\n      defaultValue={dataSource.scale ? dataSource.scale : 1}\n      onChange={(v) => onDataChange(`${dataPath}.scale`, v)}\n    />\n    <FormNumberItem\n      label=\"Time Period\"\n      min={1}\n      max={65535}\n      defaultValue={dataSource.timePeriod}\n      onChange={(v) => onDataChange(`${dataPath}.timePeriod`, v)}\n    />\n\n    <FormCheckBoxItems\n      label=\"Sensor Behaviours\"\n      defaultValue={dataSource.sensorBehaviours}\n      onChange={(v) => onDataChange(`${dataPath}.sensorBehaviours`, v)}\n      options={[\n        \"AB_LOW_ENERGY\",\n        \"AB_OUT_OF_ENERGY\",\n        \"AB_NODE_FAILED\",\n        \"AB_DOS_ATTACK\",\n        \"AB_SLOW_DOS_ATTACK\",\n        \"NORMAL_BEHAVIOUR\",\n      ]}\n    />\n    {dataSource.sensorBehaviours.indexOf(\"AB_DOS_ATTACK\") > -1 && (\n      <FormNumberItem\n        label=\"DOS attack speedup rate\"\n        min={1}\n        max={100}\n        defaultValue={dataSource.dosAttackSpeedUpRate}\n        onChange={(v) => onDataChange(`${dataPath}.dosAttackSpeedUpRate`, v)}\n      />\n    )}\n    {dataSource.sensorBehaviours.indexOf(\"AB_NODE_FAILED\") > -1 && (\n      <FormNumberItem\n        label=\"Time Before Failed\"\n        min={1}\n        max={65535}\n        defaultValue={dataSource.timeBeforeFailed}\n        onChange={(v) => onDataChange(`${dataPath}.timeBeforeFailed`, v)}\n      />\n    )}\n    <FormSwitchItem\n      label=\"IP Smart Object Format\"\n      onChange={(v) => onDataChange(`${dataPath}.isIPSOFormat`, v)}\n      checked={dataSource.isIPSOFormat ? true : false}\n      checkedChildren={\"Enable\"}\n      unCheckedChildren={\"Disable\"}\n    />\n    <Divider>\n      <h3>Measurements</h3>\n    </Divider>\n    {showEnergyOption && (\n      <React.Fragment>\n        <FormSwitchItem\n          label=\"Energy Measurement\"\n          onChange={(v) => {\n            onDataChange(`${dataPath}.withEnergy`, v);\n            if (v && !dataSource.energy) {\n              onDataChange(`${dataPath}.energy`, initEnergy());\n            }\n          }}\n          checked={dataSource.withEnergy ? true : false}\n          checkedChildren={\"Enable\"}\n          unCheckedChildren={\"Disable\"}\n        />\n        {dataSource.withEnergy && (\n          <EnergyForm\n            dataPath={`${dataPath}.energy`}\n            defaultValue={dataSource.energy ? dataSource.energy : initEnergy()}\n            onChange={(dPath, v) => onDataChange(dPath, v)}\n          />\n        )}\n      </React.Fragment>\n    )}\n    <MultipleDataSources\n      dataPath={`${dataPath}.sources`}\n      sources={dataSource.sources ? dataSource.sources : []}\n      onChange={(dPath, v) => onDataChange(dPath, v)}\n    />\n    <Dropdown\n      overlay={\n        <Menu>\n          <Menu.Item\n            key=\"1\"\n            onClick={() => {\n              const index = dataSource.sources.length;\n              const dPath = `${dataPath}.sources[${index}]`;\n              onDataChange(dPath, initBoolean());\n            }}\n          >\n            Boolean Data Type\n          </Menu.Item>\n          <Menu.Item\n            key=\"2\"\n            onClick={() => {\n              const index = dataSource.sources.length;\n              const dPath = `${dataPath}.sources[${index}]`;\n              onDataChange(dPath, initEnum());\n            }}\n          >\n            Enum Data Type\n          </Menu.Item>\n          <Menu.Item\n            key=\"3\"\n            onClick={() => {\n              const index = dataSource.sources.length;\n              const dPath = `${dataPath}.sources[${index}]`;\n              onDataChange(dPath, initInteger());\n            }}\n          >\n            Integer Data Type\n          </Menu.Item>\n          <Menu.Item\n            key=\"4\"\n            onClick={() => {\n              const index = dataSource.sources.length;\n              const dPath = `${dataPath}.sources[${index}]`;\n              onDataChange(dPath, initFloat());\n            }}\n          >\n            Float Data Type\n          </Menu.Item>\n        </Menu>\n      }\n      placement=\"topLeft\"\n    >\n      <Button type=\"primary\" style={{ margin: \"20px\" }}>\n        Add New Measure <UpOutlined />\n      </Button>\n    </Dropdown>\n  </React.Fragment>\n);\n\nexport default DataGeneratorForm;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport TSModal from \"../TSModal\";\nimport {\n  addSimulationSensor,\n  addSimulationActuator,\n  showModal,\n  selectActuator,\n  selectSensor,\n} from \"../../actions\";\nimport { Form, Button, Alert } from \"antd\";\nimport { updateObjectByPath, deepCloneObject, isDataGenerator } from \"../../utils\";\nimport { FormTextItem, FormSelectItem, FormSwitchItem, FormEditableTextItem } from \"../FormItems\";\n// import DatabaseConfigForm from \"../DatabaseConfigForm\";\nimport DataReplayerForm from \"./DataReplayerForm\";\nimport DataGeneratorForm from \"./DataGeneratorForm\";\n\nconst replayDataSource = () => ({\n  connConfig: {\n    host: \"localhost\",\n    port: 27017,\n    username: null,\n    password: null,\n    options: null,\n  },\n  devId: null,\n  dbname: null,\n  startTime: Date.now(),\n  endTime: Date.now(),\n});\n\nconst generateDataSource = () => ({\n  timePeriod: 5,\n  scale: 1,\n  dosAttackSpeedUpRate: 5,\n  timeBeforeFailed: 20,\n  sensorBehaviours: [],\n  withEnergy: false,\n  isIPSOFormat: false,\n  energy: null,\n  sources: [],\n});\n\nconst initSensor = () => ({\n  id: `id-${Date.now()}`,\n  objectId: null,\n  name: `name-${Date.now()}`,\n  enable: true,\n  isFromDatabase: false,\n  topic: null,\n  userData: null,\n  dataSource: generateDataSource(),\n});\n\nclass SensorModal extends Component {\n  constructor(props) {\n    super(props);\n\n    const { model, selectedSensor, selectedActuator, formID } = props;\n    const thingIDs = [null];\n    let thingID = null;\n    let selectedData =\n      formID === \"SENSOR-FORM\"\n        ? selectedSensor\n        : formID === \"ACTUATOR-FORM\"\n        ? selectedActuator\n        : null;\n    if (model.things) {\n      const { things } = model;\n      for (let index = 0; index < things.length; index++) {\n        thingIDs.push(things[index].id);\n        if (selectedData !== null && thingID === null) {\n          const {sensors, actuators} = things[index];\n          if (formID === \"SENSOR-FORM\" && sensors) {\n            for(let sid = 0; sid < sensors.length; sid++) {\n              if (sensors[sid].id === selectedData.id) {\n                thingID = things[index].id;\n                break;\n              }\n            }\n          } else if (formID === \"ACTUATOR-FORM\" && actuators) {\n            for(let aid = 0; aid < actuators.length; aid++) {\n              if (actuators[aid].id === selectedData.id) {\n                thingID = things[index].id;\n                break;\n              }\n            }\n          }\n        }\n      }\n    }\n    let replayDS = deepCloneObject(replayDataSource());\n    let generateDS = deepCloneObject(generateDataSource());\n    let data = initSensor();\n    // console.log(data);\n    if (selectedData) {\n      data = deepCloneObject(selectedData);\n      if (data.isFromDatabase) {\n        replayDS = data.dataSource;\n      } else {\n        generateDS = data.dataSource;\n      }\n    }\n    this.state = {\n      data,\n      thingID: thingIDs[1],\n      thingIDs,\n      replayDS,\n      generateDS,\n      error: null,\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    const { model, selectedSensor, selectedActuator, formID } = newProps;\n\n    const thingIDs = [null];\n    let thingID = null;\n    let selectedData =\n      formID === \"SENSOR-FORM\"\n        ? selectedSensor\n        : formID === \"ACTUATOR-FORM\"\n        ? selectedActuator\n        : null;\n    if (model.things) {\n      const { things } = model;\n      for (let index = 0; index < things.length; index++) {\n        thingIDs.push(things[index].id);\n        if (selectedData !== null && thingID === null) {\n          const {sensors, actuators} = things[index];\n          if (formID === \"SENSOR-FORM\" && sensors) {\n            for(let sid = 0; sid < sensors.length; sid++) {\n              if (sensors[sid].id === selectedData.id) {\n                thingID = things[index].id;\n                break;\n              }\n            }\n          } else if (formID === \"ACTUATOR-FORM\" && actuators) {\n            for(let aid = 0; aid < actuators.length; aid++) {\n              if (actuators[aid].id === selectedData.id) {\n                thingID = things[index].id;\n                break;\n              }\n            }\n          }\n        }\n      }\n    }\n    let replayDS = deepCloneObject(replayDataSource());\n    let generateDS = deepCloneObject(generateDataSource());\n    let data = initSensor();\n    if (selectedData) {\n      data = deepCloneObject(selectedData);\n      if (data.isFromDatabase) {\n        replayDS = data.dataSource;\n      } else {\n        generateDS = data.dataSource;\n      }\n    }\n\n    this.setState({\n      data,\n      thingID: thingID ? thingID : thingIDs[1],\n      thingIDs,\n      replayDS,\n      generateDS,\n      error: null,\n      isDG: false,\n    });\n  }\n\n  componentDidMount() {\n    this.setState({isDG: isDataGenerator()});\n  }\n\n  onThingChange(tID) {\n    this.setState({ thingID: tID });\n  }\n\n  onChangeDataSource(isReplay) {\n    if (isReplay) {\n      this.setState((prevState) => {\n        const newData = { ...prevState.data };\n        updateObjectByPath(newData, \"dataSource\", prevState.replayDS);\n        updateObjectByPath(newData, \"isFromDatabase\", true);\n        return { data: newData, error: null, generateDS: prevState.generateDS };\n      });\n    } else {\n      this.setState((prevState) => {\n        const newData = { ...prevState.data };\n        updateObjectByPath(newData, \"dataSource\", prevState.generateDS);\n        updateObjectByPath(newData, \"isFromDatabase\", false);\n        return { data: newData, error: null, replayDS: prevState.replayDS };\n      });\n    }\n  }\n  onDataChange(dataPath, value) {\n    this.setState((prevState) => {\n      const newData = { ...prevState.data };\n      // console.log(dataPath, value);\n      updateObjectByPath(newData, dataPath, value);\n      return { data: newData, error: null };\n    });\n  }\n\n  handleOk() {\n    const { thingID, data } = this.state;\n    const {\n      formID,\n      addSimulationSensor,\n      addSimulationActuator,\n      showModal,\n    } = this.props;\n    if (formID === \"SENSOR-FORM\") {\n      // Add new sensor\n        addSimulationSensor(thingID, data);\n        showModal(null);\n        this.props.selectSensor(null);\n    } else if (formID === \"ACTUATOR-FORM\") {\n      // Add new actuator\n        // add actuator to a data-generator model\n        addSimulationActuator(thingID, data);\n        showModal(null);\n        this.props.selectActuator(null);\n    } else {\n      console.log(`[ERROR] Invalid form: ${formID}`);\n      this.setState({ error: `[ERROR] Invalid form: ${formID}` });\n    }\n  }\n\n  handleCancel() {\n    this.props.showModal(null);\n    this.props.selectSensor(null);\n    this.props.selectActuator(null);\n  }\n\n  handleDuplicate() {\n    const { thingID, isDG } = this.state;\n    const {\n      formID,\n      addSimulationSensor,\n      addSimulationActuator,\n      showModal,\n      selectSensor,\n      selectActuator,\n    } = this.props;\n\n    if (formID === \"SENSOR-FORM\") {\n      const newThingID = `sensor-${Date.now()}`;\n      const newData = {\n        ...this.state.data,\n        id: newThingID,\n        name: \"New Sensor\",\n      };\n      // Add new sensor\n        // Add sensor to a simulation model\n        addSimulationSensor(thingID, newData);\n        selectSensor(newData);\n        setTimeout(() => {\n          showModal(\"SENSOR-FORM\");\n        }, 1000);\n        showModal(null);\n    } else if (formID === \"ACTUATOR-FORM\") {\n      // Add new actuator\n      const newThingID = `act-${Date.now()}`;\n      const newData = {\n        ...this.state.data,\n        id: newThingID,\n        name: \"New Actuator\",\n      };\n      if (isDG) {\n        // add actuator to a data-generator model\n        addSimulationActuator(newData);\n        setTimeout(() => {\n          showModal(\"ACTUATOR-FORM\");\n        }, 1000);\n        selectActuator(newData);\n        showModal(null);\n      } else {\n        console.log(\n          `[ERROR] Undefined tool or invalid form: ${isDG}, ${formID}`\n        );\n        this.setState({\n          error: `[ERROR] Undefined tool or invalid form: ${isDG}, ${formID}`,\n        });\n      }\n    } else {\n      console.log(`[ERROR] Invalid form: ${formID}`);\n      this.setState({ error: `[ERROR] Invalid form: ${formID}` });\n    }\n  }\n\n  render() {\n    const { data, error, thingID, thingIDs, isDG } = this.state;\n    const { formID, selectedActuator, selectedSensor } = this.props;\n    if (!isDG && formID === \"ACTUATOR-FORM\") return null;\n    let footer = null;\n    if (\n      (selectedSensor && formID === \"SENSOR-FORM\") ||\n      (selectedActuator && formID === \"ACTUATOR-FORM\")\n    ) {\n      footer = [\n        <Button key=\"duplicate\" onClick={() => this.handleDuplicate()}>\n          Duplicate\n        </Button>,\n        <Button key=\"cancel\" onClick={() => this.handleCancel()}>\n          Cancel\n        </Button>,\n        <Button key=\"ok\" type=\"primary\" onClick={() => this.handleOk()}>\n          OK\n        </Button>,\n      ];\n    } else {\n      footer = [\n        <Button key=\"cancel\" onClick={() => this.handleCancel()}>\n          Cancel\n        </Button>,\n        <Button key=\"ok\" type=\"primary\" onClick={() => this.handleOk()}>\n          OK\n        </Button>,\n      ];\n    }\n    const isSensor = formID === \"SENSOR-FORM\" ? true : false;\n    const topic = data.topic\n      ? data.topic\n      : `things/${thingID}/sensors${data.objectId ? `/${data.objectId}` : \"\"}/${\n          data.id\n        }`;\n    return (\n      <TSModal\n        title={`${isSensor ? \"Sensor\" : \"Actuator\"}`}\n        visible={\n          isSensor || (isDG && formID === \"ACTUATOR-FORM\")\n        }\n        onCancel={() => this.handleCancel()}\n        footer={footer}\n      >\n        <Form\n          labelCol={{\n            span: 4,\n          }}\n          wrapperCol={{\n            span: 14,\n          }}\n        >\n          <FormSelectItem\n            label=\"Device\"\n            defaultValue={thingID}\n            onChange={(v) => this.onThingChange(v)}\n            options={thingIDs}\n          />\n          <FormTextItem\n            label=\"Instance Id\"\n            defaultValue={data.id}\n            onChange={(v) => this.onDataChange(\"id\", v)}\n            placeholder=\"Identify of the device\"\n          />\n          <FormTextItem\n            label=\"Object Id\"\n            defaultValue={data.objectId}\n            onChange={(v) => this.onDataChange(\"objectId\", v)}\n            placeholder=\"Identify of the type of device (IPSO Standard)\"\n          />\n          <FormTextItem\n            label=\"Name\"\n            defaultValue={data.name}\n            onChange={(v) => this.onDataChange(\"name\", v)}\n          />\n          {!isDG &&\n            <FormEditableTextItem\n              label=\"Topic\"\n              defaultValue={topic}\n              onChange={(v) => this.onDataChange(\"topic\", v)}\n            />\n          }\n\n          <FormTextItem\n            label=\"User Data\"\n            defaultValue={JSON.stringify(data.userData)}\n            onChange={(v) => this.onDataChange(\"userData\", v)}\n            placeholder=\"User data in JSON format\"\n          />\n          <FormSwitchItem\n            label=\"Enable\"\n            onChange={(v) => this.onDataChange(`enable`, v)}\n            checked={data.enable ? true : false}\n            checkedChildren={\"On\"}\n            unCheckedChildren={\"Off\"}\n          />\n          <FormSelectItem\n            label=\"Data Source\"\n            defaultValue={data.isFromDatabase ? \"Replay\" : \"Generate\"}\n            onChange={(v) => {\n              this.onChangeDataSource(v === \"Replay\" ? true : false);\n            }}\n            options={[\"Replay\", \"Generate\"]}\n          />\n          {data.isFromDatabase ? (\n            <DataReplayerForm\n              dataPath={\"dataSource\"}\n              dataSource={data.dataSource}\n              onDataChange={(dataPath, value) =>\n                this.onDataChange(dataPath, value)\n              }\n            />\n          ) : (\n            <DataGeneratorForm\n              dataPath={\"dataSource\"}\n              dataSource={data.dataSource}\n              onDataChange={(dataPath, value) =>\n                this.onDataChange(dataPath, value)\n              }\n              showEnergyOption={\n                !isDG && formID === \"SENSOR-FORM\"\n              }\n            />\n          )}\n        </Form>\n        {error && <Alert message={error} type=\"error\" />}\n      </TSModal>\n    );\n  }\n}\n\nconst mapPropsToStates = ({ editingForm, model }) => ({\n  formID: editingForm.formID,\n  selectedSensor: editingForm.selectedSensor,\n  selectedActuator: editingForm.selectedActuator,\n  model,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  showModal: (modalID) => dispatch(showModal(modalID)),\n  addSimulationSensor: (thingID, data) =>\n    dispatch(addSimulationSensor({ thingID, sensor: data })),\n  addSimulationActuator: (thingID, data) =>\n    dispatch(addSimulationActuator({ thingID, actuator: data })),\n  selectActuator: (act) => dispatch(selectActuator(act)),\n  selectSensor: (sensor) => dispatch(selectSensor(sensor)),\n});\n\nexport default connect(mapPropsToStates, mapDispatchToProps)(SensorModal);\n","import SensorModal from './SensorModal';\nimport './style.css';\nexport default SensorModal;","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport TSModal from \"../TSModal\";\nimport {\n  addSimulationActuator,\n  showModal,\n  selectActuator,\n} from \"../../actions\";\nimport { Form, Button, Alert } from \"antd\";\nimport {\n  updateObjectByPath,\n  deepCloneObject,\n  isDataGenerator,\n} from \"../../utils\";\nimport {\n  FormTextItem,\n  FormSelectItem,\n  FormNumberItem,\n  FormSwitchItem,\n  FormEditableTextItem,\n} from \"../FormItems\";\n\nconst initActuator = () => ({\n  id: `act-id-${Date.now()}`,\n  objectId: null,\n  name: `act-name-${Date.now()}`,\n  topic: null,\n  enable: true,\n});\n\nclass ActuatorModal extends Component {\n  constructor(props) {\n    super(props);\n\n    const { model, selectedActuator } = props;\n    const thingIDs = [null];\n    let thingID = null;\n    if (model.things) {\n      const { things } = model;\n      for (let index = 0; index < things.length; index++) {\n        thingIDs.push(things[index].id);\n        if (selectedActuator !== null && thingID === null) {\n          const { actuators } = things[index];\n          for (let aid = 0; aid < actuators.length; aid++) {\n            if (actuators[aid].id === selectedActuator.id) {\n              thingID = things[index].id;\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    this.state = {\n      data: selectedActuator\n        ? deepCloneObject(selectedActuator)\n        : initActuator(),\n      thingID: thingID ? thingID : thingIDs[1],\n      thingIDs,\n      error: null,\n    };\n  }\n\n  componentWillReceiveProps(newProps) {\n    const { model, selectedActuator } = newProps;\n    const thingIDs = [null];\n    let thingID = null;\n    if (model.things) {\n      const { things } = model;\n      for (let index = 0; index < things.length; index++) {\n        thingIDs.push(things[index].id);\n        if (selectedActuator !== null && thingID === null) {\n          const { actuators } = things[index];\n          for (let aid = 0; aid < actuators.length; aid++) {\n            if (actuators[aid].id === selectedActuator.id) {\n              thingID = things[index].id;\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    this.setState({\n      data: selectedActuator\n        ? deepCloneObject(selectedActuator)\n        : initActuator(),\n      thingID: thingID ? thingID : thingIDs[1],\n      thingIDs,\n      error: null,\n    });\n  }\n\n  onThingChange(tID) {\n    this.setState({ thingID: tID });\n  }\n\n  onDataChange(dataPath, value) {\n    this.setState((prevState) => {\n      const newData = { ...prevState.data };\n      updateObjectByPath(newData, dataPath, value);\n      return { data: newData, error: null };\n    });\n  }\n\n  handleOk() {\n    const { thingID, data } = this.state;\n    const { addSimulationActuator, showModal } = this.props;\n    addSimulationActuator(thingID, data);\n    showModal(null);\n    this.props.selectActuator(null);\n  }\n\n  handleCancel() {\n    this.props.showModal(null);\n    this.props.selectActuator(null);\n  }\n\n  handleDuplicate() {\n    const { thingID } = this.state;\n    const { addSimulationActuator, showModal, selectActuator } = this.props;\n    const newActuatorID = `act-${Date.now()}`;\n    const newData = {\n      ...this.state.data,\n      id: newActuatorID,\n      objectId: this.state.objectId,\n      name: \"New Actuator\",\n    };\n    addSimulationActuator(thingID, newData);\n    showModal(null);\n    setTimeout(() => {\n      selectActuator(newData);\n      showModal(\"ACTUATOR-FORM\");\n    }, 300);\n  }\n\n  render() {\n    const { data, error, thingID, thingIDs } = this.state;\n    const { formID } = this.props;\n    let footer = null;\n\n    if (this.props.selectedActuator) {\n      footer = [\n        <Button key=\"duplicate\" onClick={() => this.handleDuplicate()}>\n          Duplicate\n        </Button>,\n        <Button key=\"cancel\" onClick={() => this.handleCancel()}>\n          Cancel\n        </Button>,\n        <Button key=\"ok\" type=\"primary\" onClick={() => this.handleOk()}>\n          OK\n        </Button>,\n      ];\n    } else {\n      footer = [\n        <Button key=\"cancel\" onClick={() => this.handleCancel()}>\n          Cancel\n        </Button>,\n        <Button key=\"ok\" type=\"primary\" onClick={() => this.handleOk()}>\n          OK\n        </Button>,\n      ];\n    }\n\n    const topic = data.topic\n      ? data.topic\n      : `things/${thingID}/actuators${\n          data.objectId ? `/${data.objectId}` : \"\"\n        }/${data.id}/#`;\n    const isDG = isDataGenerator();\n    return (\n      <TSModal\n        title={\"Actuator\"}\n        visible={formID === \"ACTUATOR-FORM\" && !isDG}\n        onCancel={() => this.handleCancel()}\n        footer={footer}\n      >\n        <Form\n          labelCol={{\n            span: 4,\n          }}\n          wrapperCol={{\n            span: 14,\n          }}\n        >\n          <FormSelectItem\n            label=\"Device\"\n            defaultValue={thingID}\n            onChange={(v) => this.onThingChange(v)}\n            options={thingIDs}\n          />\n          <FormTextItem\n            label=\"Instance Id\"\n            defaultValue={data.id}\n            onChange={(v) => this.onDataChange(\"id\", v)}\n          />\n          <FormTextItem\n            label=\"Object Id\"\n            defaultValue={data.objectId}\n            onChange={(v) => this.onDataChange(\"objectId\", v)}\n            placeholder=\"Identify of device type (IP Smart Object Format)\"\n          />\n          <FormTextItem\n            label=\"Name\"\n            defaultValue={data.name}\n            onChange={(v) => this.onDataChange(\"name\", v)}\n          />\n          <FormNumberItem\n            label=\"Number of Instance\"\n            min={1}\n            max={1000000}\n            placeholder=\"Number of instances\"\n            defaultValue={data.scale ? data.scale : 1}\n            onChange={(v) => this.onDataChange(\"scale\", v)}\n          />\n          <FormEditableTextItem\n            label=\"Topic\"\n            defaultValue={topic}\n            onChange={(v) => this.onDataChange(\"topic\", v)}\n          />\n          <FormSwitchItem\n            label=\"Enable\"\n            onChange={(v) => this.onDataChange(`enable`, v)}\n            checked={data.enable ? true : false}\n            checkedChildren={\"On\"}\n            unCheckedChildren={\"Off\"}\n          />\n        </Form>\n        {error && <Alert message={error} type=\"error\" />}\n      </TSModal>\n    );\n  }\n}\n\nconst mapPropsToStates = ({ editingForm, model }) => ({\n  formID: editingForm.formID,\n  selectedActuator: editingForm.selectedActuator,\n  model,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  showModal: (modalID) => dispatch(showModal(modalID)),\n  selectActuator: (act) => dispatch(selectActuator(act)),\n  addSimulationActuator: (thingID, data) =>\n    dispatch(addSimulationActuator({ thingID, actuator: data })),\n});\n\nexport default connect(mapPropsToStates, mapDispatchToProps)(ActuatorModal);\n","import ActuatorModal from './ActuatorModal';\nimport './style.css';\nexport default ActuatorModal;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport JSONEditor from 'jsoneditor/dist/jsoneditor-minimalist';\nimport 'jsoneditor/dist/jsoneditor.css';\n\n/**\n * @typedef {{\n * tree: string,\n * view: string,\n * form: string,\n * code: string,\n * text: string,\n * allValues: Array<string>\n * }} TJsonEditorModes\n */\nconst modes = {\n    tree: 'tree',\n    view: 'view',\n    form: 'form',\n    code: 'code',\n    text: 'text'\n};\n\nconst values = Object.values(modes);\n\nmodes.allValues = values;\n\n/**\n * @type {object}\n * @property {object} [value]\n * @property {string} [mode='tree'] - Set the editor mode.\n * @property {string} [name=undefined] - Initial field name for the root node\n * @property {object} [schema] - Validate the JSON object against a JSON schema.\n * @property {object} [schemaRefs] - Schemas that are referenced using\n * the $ref property\n * @property {Function} [onChange] - Set a callback function\n * triggered when the contents of the JSONEditor change.\n * Called without parameters. Will only be triggered on changes made by the user.\n * Return new json.\n * @property {Function} [onError] - Set a callback function triggered when an error occurs.\n * Invoked with the error as first argument.\n * The callback is only invoked for errors triggered by a users action,\n * like switching from code mode to tree mode or clicking\n * the Format button whilst the editor doesn't contain valid JSON.\n * @property {Function} [onModeChange] - Set a callback function\n * triggered right after the mode is changed by the user.\n * @property {object} [ace] - Provide a version of the Ace editor.\n * Only applicable when mode is code\n * @property {object} [ajv] - Provide a instance of ajv,\n * the library used for JSON schema validation.\n * @property {string} [theme] - Set the Ace editor theme,\n * uses included 'ace/theme/jsoneditor' by default.\n * @property {boolean} [history=false] - Enables history,\n * adds a button Undo and Redo to the menu of the JSONEditor. Only applicable when\n * mode is 'tree' or 'form'\n * @property {boolean} [navigationBar=true] - Adds navigation bar to the menu\n * the navigation bar visualize the current position on the\n * tree structure as well as allows breadcrumbs navigation.\n * @property {boolean} [statusBar=true] - Adds status bar to the buttom of the editor\n * the status bar shows the cursor position and a count of the selected characters.\n * Only applicable when mode is 'code' or 'text'.\n * @property {boolean} [search=true] - Enables a search box in\n * the upper right corner of the JSONEditor.\n * @property {Array<string>} [allowedModes] - Create a box in the editor menu where\n * the user can switch between the specified modes.\n * @property {(string|PropTypes.elementType)} [tag='div'] - Html element, or react element to render\n * @property {object} [htmlElementProps] - html element custom props\n * @property {Function} [innerRef] - callback to get html element reference\n */\nexport default class Editor extends Component {\n    constructor(props) {\n        super(props);\n\n        this.htmlElementRef = null;\n        this.jsonEditor = null;\n\n        this.handleChange = this.handleChange.bind(this);\n        this.setRef = this.setRef.bind(this);\n        this.collapseAll = this.collapseAll.bind(this);\n        this.expandAll = this.expandAll.bind(this);\n        this.focus = this.focus.bind(this);\n    }\n\n    componentDidMount() {\n        const {\n            allowedModes,\n            innerRef,\n            htmlElementProps,\n            tag,\n            onChange,\n            ...rest\n        } = this.props;\n\n        this.createEditor({\n            ...rest,\n            modes: allowedModes\n        });\n    }\n\n    // eslint-disable-next-line react/sort-comp\n    componentDidUpdate({\n        allowedModes,\n        schema,\n        name,\n        theme,\n        schemaRefs,\n        innerRef,\n        htmlElementProps,\n        tag,\n        onChange,\n        ...rest\n    }) {\n        if (this.jsonEditor) {\n            if (theme !== this.props.theme) {\n                this.createEditor({\n                    ...rest,\n                    theme,\n                    modes: allowedModes\n                });\n            } else {\n                if (schema !== this.props.schema\n                    || schemaRefs !== this.props.schemaRefs\n                ) {\n                    this.jsonEditor.setSchema(schema, schemaRefs);\n                }\n\n                if (name !== this.jsonEditor.getName()) {\n                    this.jsonEditor.setName(name);\n                }\n            }\n        }\n    }\n\n    shouldComponentUpdate({ htmlElementProps }) {\n        return htmlElementProps !== this.props.htmlElementProps;\n    }\n\n    componentWillUnmount() {\n        if (this.jsonEditor) {\n            this.jsonEditor.destroy();\n            this.jsonEditor = null;\n        }\n    }\n\n    componentWillReceiveProps(newProps) {\n        if (this.props.value !== newProps.value) {\n            this.jsonEditor.set(newProps.value);\n        }\n    }\n\n    setRef(element) {\n        this.htmlElementRef = element;\n        if (this.props.innerRef) {\n            this.props.innerRef(element);\n        }\n    }\n\n    createEditor({ value, ...rest }) {\n        if (this.jsonEditor) {\n            this.jsonEditor.destroy();\n        }\n\n        this.jsonEditor = new JSONEditor(this.htmlElementRef, {\n            onChange: this.handleChange,\n            ...rest\n        });\n\n        this.jsonEditor.set(value);\n    }\n\n    handleChange() {\n        if (this.props.onChange) {\n            try {\n                const text = this.jsonEditor.getText();\n                if (text === '') {\n                    this.props.onChange(null);\n                }\n\n                const currentJson = this.jsonEditor.get();\n                if (this.props.value !== currentJson) {\n                    this.props.onChange(currentJson);\n                }\n            } catch (err) {\n                this.err = err;\n            }\n        }\n    }\n\n    collapseAll() {\n        if (this.jsonEditor) {\n            this.jsonEditor.collapseAll();\n        }\n    }\n\n    expandAll() {\n        if (this.jsonEditor) {\n            this.jsonEditor.expandAll();\n        }\n    }\n\n    focus() {\n        if (this.jsonEditor) {\n            this.jsonEditor.focus();\n        }\n    }\n\n    render() {\n        const {\n            htmlElementProps,\n            tag\n        } = this.props;\n\n        return React.createElement(\n            tag,\n            {\n                ...htmlElementProps,\n                ref: this.setRef\n            }\n        );\n    }\n}\n\nEditor.propTypes = {\n    //  jsoneditor props\n    value: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n    mode: PropTypes.oneOf(values),\n    name: PropTypes.string,\n    schema: PropTypes.object,\n    schemaRefs: PropTypes.object,\n\n    onChange: PropTypes.func,\n    onError: PropTypes.func,\n    onModeChange: PropTypes.func,\n\n    ace: PropTypes.object,\n    ajv: PropTypes.object,\n    theme: PropTypes.string,\n    history: PropTypes.bool,\n    navigationBar: PropTypes.bool,\n    statusBar: PropTypes.bool,\n    search: PropTypes.bool,\n    allowedModes: PropTypes.arrayOf(PropTypes.oneOf(values)),\n\n    //  custom props\n    tag: PropTypes.oneOfType([PropTypes.string, PropTypes.elementType]),\n    htmlElementProps: PropTypes.object,\n    innerRef: PropTypes.func,\n};\n\nEditor.defaultProps = {\n    tag: 'div',\n    mode: modes.tree,\n    history: false,\n    search: true,\n    navigationBar: true,\n    statusBar: true,\n};\n\n/**\n * @type TJsonEditorModes\n */\nEditor.modes = modes;\n","import JSONView from './JSONView';\n\nexport default JSONView;\n","import React from 'react';\nimport JsonEditor from './Editor';\n\nimport ace from 'brace';\nimport 'brace/mode/json';\nimport 'brace/theme/github';\n\nimport './style.css';\n\nconst JSONView = ({value, onChange}) => (\n  <JsonEditor\n    value={value}\n    onChange={onChange}\n    allowedModes={[\"tree\", \"code\"]}\n    ace={ace}\n    theme=\"ace/theme/github\"\n  />\n)\n\nexport default JSONView;","import React from \"react\";\nimport {\n  BulbOutlined,\n  BugOutlined,\n  PartitionOutlined,\n} from \"@ant-design/icons\";\nimport { Popover, Avatar, Badge } from \"antd\";\nimport \"./CustomNode.css\";\nconst StatsView = ({ id, stats, children }) => (\n  <div>\n    {stats.status && (\n      <p>\n        <Badge\n          status={stats.status === \"SIMULATING\" ? \"processing\" : \"error\"}\n          text={stats.status}\n          className={stats.status}\n        />\n      </p>\n    )}\n    <p>Id: {id}</p>\n    <p>Started Time: {(new Date(stats.startedTime)).toLocaleTimeString()}</p>\n    <p>Last Activity: {(new Date(stats.lastActivity)).toLocaleTimeString()}</p>\n    {children}\n  </div>\n);\n\n// the graph configuration, you only need to pass down properties\n// that you want to override, otherwise default ones will be used\nconst CustomNode = ({ data }) => {\n  const { id, stats, devType } = data;\n  let icon = <PartitionOutlined />;\n  let popOverContent = (\n    <div>\n      <p>Id: {id}</p>\n    </div>\n  );\n  switch (devType) {\n    case \"GATEWAY\":\n      icon = <PartitionOutlined />;\n      if (stats) {\n        popOverContent = (\n          <StatsView id={id} stats={stats}>\n            <p>\n              Sent:{\" \"}\n              <Badge\n                overflowCount={10000}\n                showZero={true}\n                count={stats.numberOfSentData}\n                style={{ backgroundColor: \"#52c41a\" }}\n              />\n            </p>\n            <p>\n              Received:{\" \"}\n              <Badge\n                overflowCount={10000}\n                showZero={true}\n                count={\n                  stats.numberOfReceivedData ? stats.numberOfReceivedData : 0\n                }\n              />\n            </p>\n          </StatsView>\n        );\n      }\n      break;\n    case \"SENSOR\":\n      icon = <BugOutlined />;\n      if (stats) {\n        popOverContent = (\n          <StatsView id={id} stats={stats}>\n            <p>\n              Sent:{\" \"}\n              <Badge\n                overflowCount={10000}\n                showZero={true}\n                count={stats.numberOfSentData}\n                style={{ backgroundColor: \"#52c41a\" }}\n              />\n            </p>\n          </StatsView>\n        );\n      }\n\n      break;\n    case \"ACTUATOR\":\n      icon = <BulbOutlined />;\n      if (stats) {\n        popOverContent = (\n          <StatsView id={id} stats={stats}>\n            <p>\n              Received:{\" \"}\n              <Badge\n                overflowCount={10000}\n                showZero={true}\n                count={stats.numberOfReceivedData}\n              />\n            </p>\n            {stats.lastReceivedData && (\n              <p>Last Received Data: {stats.lastReceivedData}</p>\n            )}\n          </StatsView>\n        );\n      }\n      break;\n    default:\n      break;\n  }\n\n  return (\n    <Popover content={popOverContent} title={`${data.devType}: ${data.name}`}>\n      <Avatar style={{ verticalAlign: \"middle\" }} icon={icon} />\n    </Popover>\n  );\n};\n\nexport default CustomNode;\n","import React from 'react';\nimport CustomNode from \"./CustomNode\";\nexport default {\n  automaticRearrangeAfterDropNode: false,\n  collapsible: false,\n  height: 400,\n  highlightDegree: 1,\n  highlightOpacity: 0.2,\n  linkHighlightBehavior: true,\n  maxZoom: 3,\n  minZoom: 0.5,\n  nodeHighlightBehavior: true,\n  panAndZoom: false,\n  staticGraph: false,\n  width: 800,\n  directed: true,\n  node: {\n    fontColor: \"black\",\n    fontSize: 10,\n    fontWeight: \"normal\",\n    highlightColor: \"red\",\n    highlightFontSize: 10,\n    highlightFontWeight: \"bold\",\n    highlightStrokeColor: \"SAME\",\n    highlightStrokeWidth: 1.5,\n    mouseCursor: \"pointer\",\n    opacity: 1,\n    renderLabel: false,\n    size: 400,\n    strokeColor: \"none\",\n    strokeWidth: 1,\n    svg: \"\",\n    symbolType: \"circle\",\n    viewGenerator: (node) => <CustomNode data={node} />,\n  },\n  link: {\n    color: \"#d3d3d3\",\n    opacity: 1,\n    semanticStrokeWidth: false,\n    strokeWidth: 2,\n    highlightColor: \"blue\",\n    renderLabel: true,\n    labelProperty: (link) => link.numberOfData,\n  },\n};\n","import React from \"react\";\n\nimport { Graph } from \"react-d3-graph\";\n\nimport { connect } from \"react-redux\";\nimport { requestStats } from \"../../actions\";\nimport { isDataGenerator } from \"../../utils\";\nimport graphConfig from \"./GraphConfig\";\n\nconst getElementById = (id, array) => {\n  if (!array || array.length === 0) return null;\n  for (let index = 0; index < array.length; index++) {\n    const element = array[index];\n    if (element.id === id) return element;\n  }\n  return null;\n};\n\nconst buildGraphData = (model, stats) => {\n  const { things } = model;\n  if (!things || things.length === 0) return null;\n  const nodes = [];\n  const links = [];\n  for (let index = 0; index < things.length; index++) {\n    const thing = things[index];\n    const thingStats = getElementById(thing.id, stats);\n    nodes.push({\n      id: thing.id,\n      name: thing.name,\n      devType: \"GATEWAY\",\n      stats: thingStats,\n    });\n    const { sensors, actuators } = thing;\n    if (sensors) {\n      for (let sIndex = 0; sIndex < sensors.length; sIndex++) {\n        const sensor = sensors[sIndex];\n        const nodeID = `${thing.id}-${sensor.id}`;\n        const sensorStats = thingStats\n          ? getElementById(sensor.id, thingStats.sensorStats)\n          : null;\n        const numberOfData = sensorStats ? sensorStats.numberOfSentData : 0;\n        nodes.push({\n          id: nodeID,\n          name: sensor.name,\n          devType: \"SENSOR\",\n          stats: sensorStats,\n        });\n        links.push({ source: nodeID, target: thing.id, numberOfData });\n      }\n    }\n    if (actuators) {\n      for (let sIndex = 0; sIndex < actuators.length; sIndex++) {\n        const actuator = actuators[sIndex];\n        const nodeID = `${thing.id}-${actuator.id}`;\n        const actuatorStats = thingStats\n          ? getElementById(actuator.id, thingStats.actuatorStats)\n          : null;\n        const numberOfData = actuatorStats\n          ? actuatorStats.numberOfReceivedData\n          : 0;\n        if (actuatorStats) {\n          actuatorStats[\"status\"] = thingStats.status;\n          actuatorStats[\"startedTime\"] = thingStats.startedTime;\n        }\n        nodes.push({\n          id: nodeID,\n          name: actuator.name,\n          devType: \"ACTUATOR\",\n          stats: actuatorStats,\n        });\n        links.push({\n          source: thing.id,\n          target: nodeID,\n          numberOfData,\n        });\n      }\n    }\n  }\n  return { nodes, links };\n};\n\nclass GraphView extends React.Component {\n  constructor(props) {\n    super(props);\n    const { model, stats } = this.props;\n    const data = buildGraphData(model, stats);\n    this.state = {\n      data,\n    };\n  }\n  componentDidMount() {\n    const isDG = isDataGenerator();\n    this.props.requestStats(isDG);\n    console.log(this.timerId);\n    if (this.props.deployStatus) {\n      this.timerId = setInterval(() => {\n        this.props.requestStats(isDG);\n      }, 5000);\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    const isDG = isDataGenerator();\n    console.log(this.timerId);\n    const { model, stats } = newProps;\n    const data = buildGraphData(model, stats);\n    this.setState({ data });\n    if (newProps.deployStatus) {\n      if (!this.timerId) {\n        newProps.requestStats(isDG);\n        this.timerId = setInterval(() => {\n          newProps.requestStats(isDG);\n        }, 5000);\n      }\n    } else if (this.timerId) {\n      clearInterval(this.timerId);\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timerId);\n  }\n\n  render() {\n    const { data } = this.state;\n    if (!data) return <p>Empty model</p>;\n    console.log(data);\n    return (\n      <Graph\n        id=\"graph-id\" // id is mandatory, if no id is defined rd3g will throw an error\n        data={data}\n        config={graphConfig}\n      />\n    );\n  }\n}\n\nconst mapPropsToStates = ({ model, stats, deployStatus }) => ({\n  model,\n  stats,\n  deployStatus,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  requestStats: (isDG) => dispatch(requestStats(isDG)),\n});\n\nexport default connect(mapPropsToStates, mapDispatchToProps)(GraphView);\n","import GraphView from './GraphView';\nexport default GraphView;","import TSListView from './TSListView';\nexport default TSListView;","import React from \"react\";\nimport { List, Avatar, Skeleton, Button, Switch } from \"antd\";\n\nconst TSListView = ({\n  list,\n  editHandler,\n  deleteHandler,\n  itemAvatar,\n  changeStatus,\n}) => (\n  <List\n    itemLayout=\"horizontal\"\n    dataSource={list}\n    renderItem={(item) => (\n      <List.Item\n        actions={[\n          <Button\n            key=\"item-edit\"\n            size=\"small\"\n            onClick={() => editHandler(item)}\n          >\n            Edit\n          </Button>,\n          <Button\n            key=\"item-delete\"\n            size=\"small\"\n            onClick={() => deleteHandler(item)}\n            type=\"danger\"\n          >\n            Delete\n          </Button>,\n          <Switch\n            key=\"item-enable\"\n            onChange={() => changeStatus(item)}\n            checkedChildren={\"Enable\"}\n            unCheckedChildren={\"Disable\"}\n            checked={item.enable}\n          />,\n        ]}\n      >\n        <Skeleton avatar title={false} loading={item.loading}>\n          <List.Item.Meta\n            avatar={<Avatar>{itemAvatar}</Avatar>}\n            title={\n              <span onClick={() => editHandler(item)} style={{cursor:'pointer'}}>\n                {item.name ? item.name : item.id}\n              </span>\n            }\n            description={`Id: ${item.id}${\n              item.name ? `- name: ${item.name}` : \"\"\n            }- enable: ${item.enable ? true : false}`}\n          />\n        </Skeleton>\n      </List.Item>\n    )}\n  />\n);\n\nexport default TSListView;\n","import React from \"react\";\nimport { List, Avatar, PageHeader, Button, Switch } from \"antd\";\nimport {\n  BugOutlined,\n  PartitionOutlined,\n  BulbOutlined\n} from \"@ant-design/icons\";\nimport CollapseForm from \"../../CollapseForm\";\nimport TSListView from \"../TSListView\";\n\nconst ThingItem = ({\n  thing,\n  actions: {\n    showModal,\n    selectThing,\n    deleteThing,\n    changeStatusThing,\n    selectSensor,\n    deleteSensor,\n    changeStatusSensor,\n    selectActuator,\n    deleteActuator,\n    changeStatusActuator\n\n  },\n}) => (\n  <CollapseForm title={`Thing ${thing.id}`}>\n    <List.Item\n      actions={[\n        <Button\n          key=\"thing-edit\"\n          size=\"small\"\n          onClick={() => {\n            selectThing(thing);\n            showModal(\"THING-FORM\");\n          }}\n        >\n          Edit\n        </Button>,\n        <Button\n          key=\"thing-delete\"\n          size=\"small\"\n          onClick={() => {\n            deleteThing(thing.id);\n          }}\n          type=\"danger\"\n        >\n          Delete\n        </Button>,\n        <Switch\n          key=\"thing-enable\"\n          onChange={v => {\n            changeStatusThing(thing.id);\n          }}\n          checkedChildren={'Enable'}\n          unCheckedChildren={'Disable'}\n          checked={thing.enable}\n        />,\n      ]}\n    >\n      <List.Item.Meta\n        avatar={\n          <Avatar>\n            <PartitionOutlined />\n          </Avatar>\n        }\n        title={\n          <span\n            style={{cursor:'pointer'}}\n            onClick={() => {\n              selectThing(thing);\n              showModal(\"THING-FORM\");\n            }}\n          >\n            {thing.name ? thing.name : thing.id}\n          </span>\n        }\n        description={`Id: ${thing.id}${\n          thing.name ? `- name: ${thing.name}` : \"\"\n        }- enable: ${thing.enable ? true : false}`}\n      />\n    </List.Item>\n    <PageHeader\n          className=\"site-page-header\"\n          title=\"Connection\"\n          subTitle={`Protocol: ${thing.protocol}`}\n        />\n    <p>Host: <strong>{thing.connConfig.host}</strong></p>\n    <p>Port: <strong>{thing.connConfig.port}</strong></p>\n    {thing.sensors && (\n      <React.Fragment>\n        <PageHeader\n          className=\"site-page-header\"\n          title=\"Sensors\"\n          subTitle={`Total: ${thing.sensors.length}`}\n        />\n        <TSListView\n          list={thing.sensors}\n          editHandler={(sensor) => {\n            selectSensor(sensor);\n            showModal(\"SENSOR-FORM\");\n          }}\n          deleteHandler={(sensor) => {\n            deleteSensor(sensor.id, thing.id);\n          }}\n          changeStatus = {(sensor) => {\n            changeStatusSensor(sensor.id, thing.id);\n          }}\n          itemAvatar={<BugOutlined />}\n        />\n      </React.Fragment>\n    )}\n    {thing.actuators && (\n      <React.Fragment>\n        <PageHeader\n          className=\"site-page-header\"\n          title=\"Actuators\"\n          subTitle={`Total: ${thing.actuators.length}`}\n        />\n        <TSListView\n          list={thing.actuators}\n          editHandler={(actuator) => {\n            selectActuator(actuator);\n            showModal(\"ACTUATOR-FORM\");\n          }}\n          deleteHandler={(actuator) => {\n            deleteActuator(actuator.id, thing.id);\n          }}\n          changeStatus = {(actuator) => {\n            changeStatusActuator(actuator.id, thing.id);\n          }}\n          itemAvatar={<BulbOutlined />}\n        />\n      </React.Fragment>\n    )}\n  </CollapseForm>\n);\n\nconst ThingsView = ({\n  things,\n  actions,\n}) => (\n  <List\n    itemLayout=\"horizontal\"\n    dataSource={things}\n    renderItem={(item) => (\n      <ThingItem\n        thing={item}\n        actions={actions}\n      />\n    )}\n  />\n);\n\nexport default ThingsView;\n","import ThingsView from './ThingsView';\nexport default ThingsView;","import React from \"react\";\n\nimport { BulbOutlined, BugOutlined } from \"@ant-design/icons\";\nimport TSListView from \"./TSListView\";\nimport ThingsView from \"./ThingsView\";\nimport \"./style.css\";\nimport CollapseForm from \"../CollapseForm\";\nimport { Typography } from 'antd';\nconst { Paragraph } = Typography;\n\nconst ListView = ({\n  model: { sensors, actuators, things, name },\n  modelType,\n  actions: {\n    showModal,\n    selectThing,\n    deleteThing,\n    changeStatusThing,\n    selectSensor,\n    deleteSensor,\n    changeStatusSensor,\n    selectActuator,\n    deleteActuator,\n    changeStatusActuator,\n    changeModelName,\n  },\n}) => (\n  <div>\n    <CollapseForm title=\"Overview\" active={true}>\n      <Paragraph\n        editable={{\n          onChange: (newName) => changeModelName(newName),\n        }}\n      >\n        {name}\n      </Paragraph>\n      <span>\n        Type: <strong>{modelType}</strong>\n      </span>\n    </CollapseForm>\n    {things && (\n      <CollapseForm title={`Things (${things.length})`} active={true}>\n        <ThingsView\n          things={things}\n          actions={{\n            showModal,\n            selectThing,\n            deleteThing,\n            changeStatusThing,\n            selectSensor,\n            deleteSensor,\n            changeStatusSensor,\n            selectActuator,\n            deleteActuator,\n            changeStatusActuator,\n          }}\n        />\n      </CollapseForm>\n    )}\n    {sensors && (\n      <CollapseForm title={`Free Sensors (${sensors.length})`} active={false}>\n        <TSListView\n          list={sensors}\n          editHandler={(sensor) => {\n            selectSensor(sensor);\n            showModal(\"SENSOR-FORM\");\n          }}\n          deleteHandler={(sensor) => {\n            deleteSensor(sensor.id, null);\n          }}\n          changeStatus={(sensor) => {\n            changeStatusSensor(sensor.id, null);\n          }}\n          itemAvatar={<BugOutlined />}\n        />\n      </CollapseForm>\n    )}\n    {actuators && (\n      <CollapseForm\n        title={`Free Actuators (${actuators.length})`}\n        active={false}\n      >\n        <TSListView\n          list={actuators}\n          editHandler={(actuator) => {\n            selectActuator(actuator);\n            showModal(\"ACTUATOR-FORM\");\n          }}\n          deleteHandler={(actuator) => {\n            deleteActuator(actuator.id, null);\n          }}\n          changeStatus={(actuator) => {\n            changeStatusActuator(actuator.id, null);\n          }}\n          itemAvatar={<BulbOutlined />}\n        />\n      </CollapseForm>\n    )}\n  </div>\n);\nexport default ListView;\n","import ListView from './ListView';\nexport default ListView;","import React from \"react\";\nimport { Layout, Menu } from \"antd\";\n\nimport \"./styles.css\";\n\nconst { Sider } = Layout;\nconst TSSider = ({ defaultKey, items, rightSide, theme }) => (\n  <Sider className=\"side-background-color\" breakpoint=\"lg\" collapsedWidth=\"0\">\n    <Menu\n      mode=\"inline\"\n      theme={theme ? theme : \"light\"}\n      style={\n        rightSide\n          ? { height: \"100%\", borderRight: 0 }\n          : { height: \"100%\", borderLeft: 10 }\n      }\n      defaultSelectedKeys={[`${defaultKey}`]}\n      defaultOpenKeys={[`sub${defaultKey}`]}\n    >\n      {items.map((i) =>\n        i.action ? (\n          <Menu.Item key={i.key} onClick={i.action}>\n            {i.icon}\n            {i.text}\n          </Menu.Item>\n        ) : i.href ? (\n          <Menu.Item key={i.key}>\n            <a href={i.href}>\n              {i.icon}\n              {i.text}\n            </a>\n          </Menu.Item>\n        ) : (\n          <Menu.Item key={i.key}>\n            {i.icon}\n            {i.text}\n          </Menu.Item>\n        )\n      )}\n    </Menu>\n  </Sider>\n);\n\nexport default TSSider;\n","import TSSider from './TSSider';\n\nexport default TSSider;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\n\nimport { showModal } from \"../../actions\";\nimport {\n  PartitionOutlined,\n  BulbOutlined,\n  BugOutlined,\n} from \"@ant-design/icons\";\n\nimport TSSider from \"../TSSider\";\n\nclass LeftSider extends Component {\n  render() {\n    const { showModal } = this.props;\n\n    const menuItems = [\n      {\n        key: 3,\n        text: \"Add Device\",\n        action: () => showModal(\"THING-FORM\"),\n        icon: <PartitionOutlined />\n      },\n      {\n        key: 1,\n        text: \"Add Sensor\",\n        action: () => showModal(\"SENSOR-FORM\"),\n        icon: <BugOutlined />\n      },\n      {\n        key: 2,\n        text: \"Add Actuator\",\n        action: () => showModal(\"ACTUATOR-FORM\"),\n        icon: <BulbOutlined />\n      }\n      // ,\n      // {\n      //   key: 4,\n      //   text: \"Connection\",\n      //   action: () => showModal(\"CONNECTION-FORM\"),\n      //   icon: <BulbOutlined />\n      // }\n    ];\n\n    return <TSSider rightSide={true} items={menuItems} theme=\"dark\" />;\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  showModal: mID => dispatch(showModal(mID))\n});\n\nexport default connect(null, mapDispatchToProps)(LeftSider);\n","import React, { Component } from \"react\";\n\nimport { getQuery } from \"../../utils\";\nimport TSSider from \"../TSSider\";\nimport {\n  UnorderedListOutlined,\n  ForkOutlined,\n  FilterOutlined,\n} from \"@ant-design/icons\";\nimport \"./style.css\";\n\nclass RightSider extends Component {\n  render() {\n    const menuItems = [\n      {\n        key: 7,\n        text: \"List View\",\n        href: '?view=list',\n        icon: <UnorderedListOutlined />,\n      },\n      {\n        key: 5,\n        text: \"JSON View\",\n        href: '?view=json',\n        icon: <FilterOutlined />,\n      },\n      {\n        key: 6,\n        text: \"Graph View\",\n        href: '?view=graph',\n        icon: <ForkOutlined />,\n      },\n    ];\n    let dKey = 7;\n    const viewType = getQuery(\"view\");\n    if (viewType) {\n      switch (viewType) {\n        case \"list\":\n          dKey = 7;\n          break;\n        case \"json\":\n          dKey = 5;\n          break;\n        case \"graph\":\n          dKey = 6;\n          break;\n        default:\n          break;\n      }\n    }\n    return (\n      <TSSider\n        className=\"right-sider\"\n        rightSide={false}\n        items={menuItems}\n        defaultKey={dKey}\n        theme=\"light\"\n      />\n    );\n  }\n}\nexport default RightSider;\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { notification, Spin, Alert, Layout } from \"antd\";\nimport { resetNotification, requestDeployStatus } from \"../actions\";\nimport { isDataGenerator } from \"../utils\";\nimport LeftSider from \"../components/LeftSider\";\nimport RightSider from \"../components/RightSider\";\nimport \"./styles.css\";\n\nconst { Content } = Layout;\n\nclass LayoutPage extends Component {\n  constructor(props) {\n    super(props);\n    const {deployStatus} = props;\n    let statusMessage = null;\n    const isDG = isDataGenerator();\n    if (deployStatus) {\n      statusMessage = `${\n        !isDG ? \"Simulation\" : \"Data Generator\"\n      } is running. Model name ${deployStatus.model}. Started time: ${new Date(\n        deployStatus.startedTime\n      )}`;\n    }\n    this.state = {\n      isDG,\n      isLogPage: window.location.pathname.indexOf(\"/logs\") > -1,\n      statusMessage,\n    }\n  }\n\n  componentWillReceiveProps(newProps) {\n    const {deployStatus} = newProps;\n    let statusMessage = null;\n    if (deployStatus) {\n      statusMessage = `${\n        !this.state.isDG ? \"Simulation\" : \"Data Generator\"\n      } is running. Model name ${deployStatus.model}. Started time: ${new Date(\n        deployStatus.startedTime\n      )}`;\n    }\n    this.setState({statusMessage});\n  }\n\n  componentDidMount() {\n    this.props.requestDeployStatus(this.state.isDG);\n    setInterval(() => {\n      this.props.requestDeployStatus(this.state.isDG);\n    }, 3000);\n  }\n\n  render() {\n    const { isLogPage, statusMessage} = this.state;\n    const { requesting, notify , resetNotification} = this.props;\n\n    return (\n      <Layout>\n        {!isLogPage && <LeftSider />}\n\n        {notify &&\n          notification[notify.type]({\n            message: notify.type.toUpperCase(),\n            description:\n              typeof notify.message === \"object\"\n                ? JSON.stringify(notify.message)\n                : notify.message,\n            onClose: () => resetNotification(),\n          })}\n\n        <Layout style={{ padding: \"0 24px 24px\" }}>\n          <Content>\n            {statusMessage && (\n              <Alert\n                message={statusMessage}\n                type=\"info\"\n                style={{ marginBottom: \"10px\", marginTop: \"20px\" }}\n                showIcon\n              />\n            )}\n            {requesting ? <Spin tip=\"Loading...\" /> : this.props.children}\n          </Content>\n        </Layout>\n        {!isLogPage && <RightSider />}\n      </Layout>\n    );\n  }\n}\n\nconst mapPropsToStates = ({ requesting, notify, deployStatus }) => ({\n  notify,\n  requesting,\n  deployStatus,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  requestDeployStatus: (isDG) => dispatch(requestDeployStatus(isDG)),\n  resetNotification: () => dispatch(resetNotification()),\n});\n\nexport default connect(mapPropsToStates, mapDispatchToProps)(LayoutPage);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Button } from \"antd\";\n// all the edit forms\nimport ThingModal from \"../components/ThingModal\";\nimport SensorModal from \"../components/SensorModal\";\nimport ActuatorModal from \"../components/ActuatorModal\";\n\nimport {\n  requestModel,\n  setModel,\n  uploadModel,\n  showModal,\n  selectThing,\n  changeModelName,\n  deleteThing,\n  changeStatusThing,\n  selectSensor,\n  deleteSimulationSensor,\n  changeStatusSensor,\n  selectActuator,\n  deleteSimulationActuator,\n  changeStatusActuator,\n} from \"../actions\";\nimport JSONView from \"../components/JSONView\";\nimport GraphView from \"../components/GraphView\";\nimport ListView from \"../components/ListView\";\nimport LayoutPage from \"./LayoutPage\";\n\nimport { isDataGenerator, getQuery } from \"../utils\";\n\n// console.log(ace.acequire('editor'));\nclass ModelPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tempModel: props.model,\n      isDG: false,\n    };\n    this.onModelChange = this.onModelChange.bind(this);\n  }\n\n  componentDidMount() {\n    const isDG = isDataGenerator();\n    this.props.initData(isDG);\n    this.setState({ isDG });\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.setState({\n      tempModel: newProps.model,\n    });\n  }\n\n  onModelChange(newModel) {\n    this.setState({\n      tempModel: newModel,\n    });\n  }\n\n  render() {\n    const { isDG } = this.state;\n    const {\n      model,\n      saveModel,\n      showModal,\n      selectThing,\n      deleteThing,\n      changeStatusThing,\n      selectSensor,\n      deleteSensor,\n      changeStatusSensor,\n      selectActuator,\n      deleteActuator,\n      changeStatusActuator,\n      formID,\n      changeModelName,\n    } = this.props;\n\n    let viewType = getQuery(\"view\");\n    if (!viewType) viewType = \"list\";\n    let view = null;\n    if (viewType === \"json\") {\n      view = <JSONView value={model} onChange={this.onModelChange} />;\n    } else if (viewType === \"graph\") {\n      view = <GraphView />;\n    } else {\n      view = (\n        <ListView\n          model={model}\n          modelType={!isDG ? \"Simulation\" : \"Data Geneartor\"}\n          actions={{\n            showModal,\n            selectThing,\n            deleteThing,\n            changeStatusThing,\n            selectSensor,\n            deleteSensor,\n            changeStatusSensor,\n            selectActuator,\n            deleteActuator,\n            changeStatusActuator,\n            changeModelName,\n          }}\n        />\n      );\n    }\n    return (\n      <LayoutPage>\n        {view}\n        <Button\n          type=\"primary\"\n          onClick={() => saveModel(isDG, this.state.tempModel)}\n          style={{ marginTop: \"10px\" }}\n        >\n          Save\n        </Button>\n        {formID === \"THING-FORM\" && <ThingModal />}\n        {!isDG && formID === \"ACTUATOR-FORM\" && <ActuatorModal />}\n        {(formID === \"SENSOR-FORM\" || (formID === \"ACTUATOR-FORM\" && isDG)) && (\n          <SensorModal />\n        )}\n      </LayoutPage>\n    );\n  }\n}\n\nconst mapPropsToStates = ({ model, editingForm }) => ({\n  model,\n  formID: editingForm.formID,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  initData: (isDG) => {\n    dispatch(requestModel(isDG));\n  },\n  saveModel: (isDG, newModel) => {\n    dispatch(setModel(newModel));\n    dispatch(uploadModel(isDG));\n  },\n  showModal: (formID) => dispatch(showModal(formID)),\n  changeModelName: (newName) => dispatch(changeModelName(newName)),\n  selectThing: (thing) => dispatch(selectThing(thing)),\n  deleteThing: (thingID) => dispatch(deleteThing(thingID)),\n  changeStatusThing: (thingID) => dispatch(changeStatusThing(thingID)),\n  selectSensor: (sensor) => dispatch(selectSensor(sensor)),\n  deleteSensor: (sensorID, thingID) =>\n    dispatch(deleteSimulationSensor({ sensorID, thingID })),\n  changeStatusSensor: (sensorID, thingID) =>\n    dispatch(changeStatusSensor({ sensorID, thingID })),\n  selectActuator: (actuator) => dispatch(selectActuator(actuator)),\n  deleteActuator: (actuatorID, thingID) =>\n    dispatch(deleteSimulationActuator({ actuatorID, thingID })),\n  changeStatusActuator: (actuatorID, thingID) =>\n    dispatch(changeStatusActuator({ actuatorID, thingID })),\n});\n\nexport default connect(mapPropsToStates, mapDispatchToProps)(ModelPage);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { List, Skeleton, Avatar, Button, PageHeader } from \"antd\";\nimport { ClockCircleOutlined } from \"@ant-design/icons\";\nimport { getCreatedTimeFromFileName, isDataGenerator } from \"../utils\";\n\nimport { requestLogFiles, requestDeleteLogFile } from \"../actions\";\nimport LayoutPage from \"./LayoutPage\";\n\nclass LogsPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      logFiles: props.logFiles,\n    };\n  }\n\n  componentDidMount() {\n    this.props.initData(isDataGenerator());\n  }\n\n  componentWillReceiveProps(newProps) {\n    this.setState({ logFiles: newProps.logFiles });\n  }\n\n  render() {\n    const { deleteLogFile } = this.props;\n    const { logFiles } = this.state;\n    const isDG = isDataGenerator();\n    return (\n      <LayoutPage>\n        <PageHeader className=\"site-page-header\" title=\"Log files\" />\n        <List\n          bordered\n          dataSource={logFiles}\n          renderItem={(item) => (\n            <List.Item\n              actions={[\n                <Button\n                  key=\"list-loadmore-edit\"\n                  onClick={() => deleteLogFile(isDG, item)}\n                  type=\"danger\"\n                >\n                  Delete\n                </Button>,\n              ]}\n            >\n              <Skeleton avatar title={false} loading={item.loading}>\n                <List.Item.Meta\n                  avatar={\n                    <Avatar>\n                      <ClockCircleOutlined />\n                    </Avatar>\n                  }\n                  title={\n                    <a href={`${isDG ? \"/data-generator\" : \"\"}/logs/${item}`}>\n                      {item}\n                    </a>\n                  }\n                  description={`Created at: ${getCreatedTimeFromFileName(\n                    item\n                  )}`}\n                />\n              </Skeleton>\n            </List.Item>\n          )}\n        />\n      </LayoutPage>\n    );\n  }\n}\n\nconst mapPropsToStates = ({ logs }) => ({\n  logFiles: logs.logFiles,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  deleteLogFile: (isDG, logFile) => {\n    dispatch(requestDeleteLogFile({ isDG, logFile }));\n  },\n  initData: (isDG) => {\n    dispatch(requestLogFiles(isDG));\n  },\n});\n\nexport default connect(mapPropsToStates, mapDispatchToProps)(LogsPage);\n","import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Typography, PageHeader } from \"antd\";\nimport { getLastURLPath, isDataGenerator } from \"../utils\";\nimport LayoutPage from \"./LayoutPage\";\nimport { requestLogs } from \"../actions\";\n\nconst { Text } = Typography;\n\nconst LogLine = ({ type, time, device, message }) => (\n  <Row>\n    <Col span={4}>\n      <Text type={type}>{time}</Text>\n    </Col>\n    <Col span={5}>\n      <Text type={type}>{device}</Text>\n    </Col>\n    <Col span={15}>\n      <Text type={type}>{message}</Text>\n    </Col>\n  </Row>\n);\n\nclass LogsPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      logFile: null,\n      isDG: false,\n    };\n  }\n  componentDidMount() {\n    const logFile = getLastURLPath(window.location.pathname);\n    const isDG = isDataGenerator();\n    this.setState({ logFile: decodeURIComponent(logFile) });\n    this.props.requestLogs(isDG, logFile);\n    setInterval(() => {\n      this.props.requestLogs(isDG, logFile);\n    }, 20000);\n  }\n\n  render() {\n    const { logFile } = this.state;\n    const { logs } = this.props;\n    return (\n      <LayoutPage>\n        <PageHeader className=\"site-page-header\" title={logFile} />\n        <LogLine\n          key={-1}\n          type={\"warning\"}\n          time={\"Time\"}\n          device={\"Device\"}\n          message={\"Message\"}\n        />\n        {!logs ? (\n          <p>Empty</p>\n        ) : (\n          logs.split(\"\\n\").map((log, index) => {\n            const array = log.split(\" \");\n            if (array.length < 4) {\n              console.warn(\"Log is not going to show: \", log);\n              return null;\n            }\n            const type = array[2] === \"info:\" ? \"secondary\" : \"danger\";\n            const time = new Date(array[0]);\n            const timeString = `${time.getHours()}:${time.getMinutes()}:${time.getSeconds()} ${time.getDay()}/${time.getMonth()}/${time.getFullYear()}`;\n            const device = array[3].replace(\"[\", \"\").replace(\"]\", \"\");\n            const message = log.split(array[3])[1];\n            return (\n              <LogLine\n                key={index}\n                type={type}\n                time={timeString}\n                device={device}\n                message={message}\n              />\n            );\n          })\n        )}\n      </LayoutPage>\n    );\n  }\n}\n\nconst mapPropsToStates = ({ logs }) => ({\n  logs: logs.logs,\n  logFile: logs.logFile,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  requestLogs: (isDG, logFile) => dispatch(requestLogs({ isDG, logFile })),\n});\n\nexport default connect(mapPropsToStates, mapDispatchToProps)(LogsPage);\n","import React from \"react\";\nimport \"antd/dist/antd.css\";\nimport { Layout } from \"antd\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport ErrorBoundary from \"antd/lib/alert/ErrorBoundary\";\nimport TSHeader from \"./components/TSHeader\";\nimport TSFooter from \"./components/TSFooter\";\nimport ModelPage from \"./pages/ModelPage\";\nimport LogsPage from \"./pages/LogsPage\";\nimport LogFilePage from \"./pages/LogFilePage\";\n\nfunction App() {\n  return (\n    <Router>\n      <ErrorBoundary>\n        <Layout className=\"layout\" style={{ height: \"100%\" }}>\n          <TSHeader />\n          <Switch>\n            <Route path=\"/data-generator/logs/:logFile\">\n              <LogFilePage />\n            </Route>\n            <Route path=\"/data-generator/logs\">\n              <LogsPage />\n            </Route>\n            <Route path=\"/data-generator\">\n              <ModelPage />\n            </Route>\n            <Route path=\"/logs/:logFile\">\n              <LogFilePage />\n            </Route>\n            <Route path=\"/logs\">\n              <LogsPage />\n            </Route>\n            <Route path=\"/\">\n              <ModelPage />\n            </Route>\n          </Switch>\n          <TSFooter />\n        </Layout>\n      </ErrorBoundary>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport configStore from \"../../client/src/store\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"./index.css\";\n\nconst store = configStore();\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}