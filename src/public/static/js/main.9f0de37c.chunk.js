(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{239:function(e,t){e.exports="0.5.0"},264:function(e,t,n){e.exports=n(507)},274:function(e,t,n){},341:function(e,t,n){},342:function(e,t,n){},343:function(e,t,n){},473:function(e,t,n){},474:function(e,t,n){},477:function(e,t,n){},478:function(e,t,n){},483:function(e,t,n){},488:function(e,t,n){},489:function(e,t,n){},506:function(e,t,n){},507:function(e,t,n){"use strict";n.r(t);var a,r,o,c,l,i=n(0),u=n.n(i),s=n(6),d=n.n(s),h=n(33),m=n(64),f=n(263),g=n(11),p=n(51),E=n(12),b=n(43),O=Object(E.a)("SET_NOTIFICATION"),v=Object(E.a)("RESET_NOTIFICATION"),C=Object(E.a)("REQUEST_MODEL"),y=Object(E.a)("SET_MODEL"),S=Object(E.a)("CHANGE_MODEL_NAME"),j=Object(E.a)("ADD_THING"),D=Object(E.a)("DELETE_THING"),k=Object(E.a)("ADD_SIMULATION_SENSOR"),T=Object(E.a)("ADD_SIMULATION_ACTUATOR"),A=Object(E.a)("DELETE_SIMULATION_SENSOR"),R=Object(E.a)("DELETE_SIMULATION_ACTUATOR"),I=Object(E.a)("CHANGE_STATUS_SENSOR"),w=Object(E.a)("CHANGE_STATUS_ACTUATOR"),x=Object(E.a)("UPLOAD_MODEL"),M=Object(E.a)("UPLOAD_MODEL_OK"),_=Object(E.a)("SEND_DEPLOY_START"),F=Object(E.a)("DEPLOY_START_OK"),N=Object(E.a)("SEND_DEPLOY_STOP"),V=Object(E.a)("DEPLOY_STOP_OK"),P=Object(E.a)("REQUEST_DEPLOY_STATUS"),U=Object(E.a)("SET_DEPLOY_STATUS"),L=Object(E.a)("REQUEST_LOGS"),G=Object(E.a)("REQUEST_LOGFILES"),B=Object(E.a)("REQUEST_LOGS_OK"),H=Object(E.a)("REQUEST_LOGFILES_OK"),Y=Object(E.a)("REQUEST_DELETE_LOG_FILE"),K=Object(E.a)("RESET_MODEL"),J=Object(E.a)("SHOW_MODAL"),W=Object(E.a)("SELECT_THING"),q=Object(E.a)("CHANGE_STATUS_THING"),Q=Object(E.a)("SELECT_SENSOR"),z=Object(E.a)("SELECT_ACTUATOR"),X=(Object(E.a)("SELECT_DATA_STORAGE"),n(19)),$=function(e,t,n){for(var a=t.split(".");a.length>1;){var r=a.shift();if(r.indexOf("[")>0){var o=r.split("[");r=o[0];var c=o[1].replace("]","");e[r]||(e[r]=[]),0===e[r].length?c=0:(e[r].length<=c||c<0)&&(c=e[r].length),e[r][c]||e[r].push({}),e=e[r][c]}else e[r]||(e[r]={}),e=e[r]}var l=a.shift();if(l.indexOf("[")>0){var i=l.split("[");l=i[0];var u=i[1].replace("]","");null===n?e[l]&&e[l][u]&&e[l].splice(u,1):(e[l]||(e[l]=[]),0===e[l].length?u=0:(e[l].length<=u||u<0)&&(u=e[l].length),e[l][u]?e[l][u]=n:e[l].push(n))}else e[l]=n},Z=function(e){return JSON.parse(JSON.stringify(e))},ee=function(e,t){for(var n=!1,a=0;a<e.length;a++){if(e[a].id===t.id){e[a]=Object(X.a)({},t),n=!0;break}}return n||e.push(t),e},te=function(e,t){for(var n=!1,a=0;a<e.length;a++){if(e[a].id===t){e.splice(a,1),n=!0;break}}return n?e:(console.log("[ERROR] Cannot find the element: ".concat(t)),null)},ne=function(e){var t=e.split("_"),n=t[t.length-1].replace(".log","");return new Date(Number(n))},ae=function(){return 1===window.location.pathname.indexOf("data-generator")},re=function(e){return new URLSearchParams(window.location.search).get(e)},oe={name:"NewModel"},ce=Object(E.b)((a={},Object(g.a)(a,y,Object(b.a)((function(e,t){return t}))),Object(g.a)(a,K,(function(e){return oe})),Object(g.a)(a,S,Object(b.a)((function(e,t){e.name=t}))),Object(g.a)(a,j,Object(b.a)((function(e,t){if(e.things){var n=ee(e.things,t);e.things=Object(p.a)(n)}else e.things=[t]}))),Object(g.a)(a,D,Object(b.a)((function(e,t){var n=te(e.things,t);n&&(e.things=Object(p.a)(n))}))),Object(g.a)(a,q,Object(b.a)((function(e,t){for(var n=0;n<e.things.length;n++)if(e.things[n].id===t)return void(e.things[n].enable=!e.things[n].enable);console.error("[ERROR] Cannot find the thing ".concat(t))}))),Object(g.a)(a,k,Object(b.a)((function(e,t){var n=t.thingID,a=t.sensor,r=!1;if(e.things)for(var o=0;o<e.things.length;o++)if(e.things[o].id===n){r=!0;var c=ee(e.things[o].sensors,a);e.things[o].sensors=Object(p.a)(c);break}if(r){if(e.sensors){var l=te(e.sensors,a.id);l&&(e.sensors=Object(p.a)(l))}}else{e.sensors||(e.sensors=[]);var i=ee(e.sensors,a);e.sensors=Object(p.a)(i)}}))),Object(g.a)(a,T,Object(b.a)((function(e,t){var n=t.thingID,a=t.actuator,r=!1;if(e.things)for(var o=0;o<e.things.length;o++)if(e.things[o].id===n){r=!0;var c=ee(e.things[o].actuators,a);e.things[o].actuators=Object(p.a)(c);break}if(r){if(e.actuators){var l=te(e.actuators,a.id);l&&(e.actuators=Object(p.a)(l))}}else{e.actuators||(e.actuators=[]);var i=ee(e.actuators,a);e.actuators=Object(p.a)(i)}}))),Object(g.a)(a,A,Object(b.a)((function(e,t){var n=t.sensorID,a=t.thingID;if(a){for(var r=!1,o=0;o<e.things.length;o++)if(e.things[o].id===a){r=!0;var c=te(e.things[o].sensors,n);c&&(e.things[o].sensors=Object(p.a)(c));break}r||console.log("[ERROR] Cannot remove ".concat(n," from ").concat(a))}else{var l=te(e.sensors,n);l&&(e.sensors=Object(p.a)(l))}}))),Object(g.a)(a,I,Object(b.a)((function(e,t){var n=t.sensorID,a=t.thingID;if(a){for(var r=0;r<e.things.length;r++)if(e.things[r].id===a){for(var o=0;o<e.things[r].sensors.length;o++)if(e.things[r].sensors[o].id===n)return void(e.things[r].sensors[o].enable=!e.things[r].sensors[o].enable);break}console.log("[ERROR] Cannot change status of sensor ".concat(n," in ").concat(a))}else{if(e.sensors)for(var c=0;c<e.sensors.length;c++)if(e.sensors[c].id===n)return void(e.sensors[c].enable=!e.sensors[c].enable);console.log("[ERROR] Cannot change status of sensor ".concat(n," in ").concat(a))}}))),Object(g.a)(a,R,Object(b.a)((function(e,t){var n=t.actuatorID,a=t.thingID;if(a){for(var r=!1,o=0;o<e.things.length;o++)if(e.things[o].id===a){r=!0;var c=te(e.things[o].actuators,n);c&&(e.things[o].actuators=Object(p.a)(c));break}r||console.log("[ERROR] Cannot remove ".concat(n," from ").concat(a))}else{var l=te(e.actuators,n);l&&(e.actuators=Object(p.a)(l))}}))),Object(g.a)(a,w,Object(b.a)((function(e,t){var n=t.actuatorID,a=t.thingID;if(a){for(var r=0;r<e.things.length;r++)if(e.things[r].id===a){for(var o=0;o<e.things[r].actuators.length;o++)if(e.things[r].actuators[o].id===n)return void(e.things[r].actuators[o].enable=!e.things[r].actuators[o].enable);break}console.log("[ERROR] Cannot change status of actuator ".concat(n," in ").concat(a))}else{if(e.actuators)for(var c=0;c<e.actuators.length;c++)if(e.actuators[c].id===n)return void(e.actuators[c].enable=!e.actuators[c].enable);console.log("[ERROR] Cannot change status of actuator ".concat(n," in ").concat(a))}}))),a),oe),le=Object(E.b)((r={},Object(g.a)(r,x,(function(e){return!0})),Object(g.a)(r,C,(function(e){return!0})),Object(g.a)(r,N,(function(e){return!0})),Object(g.a)(r,_,(function(e){return!0})),Object(g.a)(r,O,(function(e){return!1})),Object(g.a)(r,y,(function(e){return!1})),Object(g.a)(r,M,(function(e){return!1})),Object(g.a)(r,V,(function(e){return!1})),Object(g.a)(r,F,(function(e){return!1})),Object(g.a)(r,L,(function(e){return!0})),Object(g.a)(r,B,(function(e){return!1})),r),!1),ie=Object(E.b)((o={},Object(g.a)(o,O,(function(e,t){return{type:t.type,message:t.message}})),Object(g.a)(o,v,(function(e){return null})),Object(g.a)(o,j,(function(e,t){return{type:"success",message:"Thing ".concat(t.id," has been added!")}})),Object(g.a)(o,D,(function(e,t){return{type:"success",message:"Thing ".concat(t," has been removed!")}})),Object(g.a)(o,k,(function(e,t){var n=t.sensor,a=t.thingID;return{type:"success",message:"Sensor ".concat(n.id," has been added ").concat(a?"into Thing ".concat(a):"","!")}})),Object(g.a)(o,A,(function(e,t){var n=t.sensorID,a=t.thingID;return{type:"success",message:"Sensor ".concat(n," has been removed").concat(a?"from Thing ".concat(a):"","!")}})),Object(g.a)(o,T,(function(e,t){var n=t.actuator,a=t.thingID;return{type:"success",message:"Actuator ".concat(n.id," has been added ").concat(a?"into Thing ".concat(a):"","!")}})),Object(g.a)(o,R,(function(e,t){var n=t.actuatorID,a=t.thingID;return{type:"success",message:"Actuator ".concat(n," has been removed").concat(a?"from Thing ".concat(a):"","!")}})),o),null),ue=Object(E.b)((c={},Object(g.a)(c,B,(function(e,t){return Object(X.a)(Object(X.a)({},e),{},{logs:t})})),Object(g.a)(c,H,(function(e,t){return Object(X.a)(Object(X.a)({},e),{},{logFiles:t})})),Object(g.a)(c,Y,Object(b.a)((function(e,t){var n=e.logFiles.indexOf(t);n>-1&&e.logFiles.splice(n,1)}))),c),{logs:null,logFiles:[]}),se=Object(E.b)((l={},Object(g.a)(l,J,(function(e,t){return Object(X.a)(Object(X.a)({},e),{},{formID:t})})),Object(g.a)(l,W,(function(e,t){return Object(X.a)(Object(X.a)({},e),{},{selectedThing:t})})),Object(g.a)(l,Q,(function(e,t){return Object(X.a)(Object(X.a)({},e),{},{selectedSensor:t})})),Object(g.a)(l,z,(function(e,t){return Object(X.a)(Object(X.a)({},e),{},{selectedActuator:t})})),l),{formID:null,selectedThing:null,selectedSensor:null,selectedActuator:null,dataStorage:null}),de=Object(E.b)(Object(g.a)({},U,(function(e,t){return t})),!1),he=Object(m.c)({model:ce,logs:ue,notify:ie,requesting:le,editingForm:se,deployStatus:de}),me=n(10),fe=n.n(me),ge=n(14),pe=n(72),Ee=function(){var e=Object(pe.a)(fe.a.mark((function e(t){var n,a,r;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("","/api/").concat(t,"/model"),e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.json();case 6:if(!(r=e.sent).error){e.next=9;break}throw r.error;case 9:return e.abrupt("return",r.model);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(pe.a)(fe.a.mark((function e(t,n){var a,r,o;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("","/api/").concat(t,"/model"),e.next=3,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:n})});case 3:return r=e.sent,e.next=6,r.json();case 6:if(!(o=e.sent).error){e.next=9;break}throw o.error;case 9:return e.abrupt("return",o.model);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(pe.a)(fe.a.mark((function e(t,n){var a,r,o;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("","/api/").concat(t,"/logs/").concat(n),e.next=3,fetch(a);case 3:return r=e.sent,e.next=6,r.json();case 6:if(!(o=e.sent).error){e.next=9;break}throw o.error;case 9:return e.abrupt("return",o.content);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ve=function(){var e=Object(pe.a)(fe.a.mark((function e(t,n){var a,r,o;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("","/api/").concat(t,"/logs/").concat(n),e.next=3,fetch(a,{method:"POST"});case 3:return r=e.sent,e.next=6,r.json();case 6:if(!(o=e.sent).error){e.next=9;break}throw o.error;case 9:return e.abrupt("return",o.result);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(pe.a)(fe.a.mark((function e(t){var n,a,r;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("","/api/").concat(t,"/logs"),e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.json();case 6:if(!(r=e.sent).error){e.next=9;break}throw r.error;case 9:return e.abrupt("return",r.files);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(pe.a)(fe.a.mark((function e(t,n){var a,r,o;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("","/api/").concat(t,"/deploy"),e.next=3,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:n})});case 3:return r=e.sent,e.next=6,r.json();case 6:if(!(o=e.sent).error){e.next=9;break}throw o.error;case 9:return e.abrupt("return",o.deployStatus);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Se=function(){var e=Object(pe.a)(fe.a.mark((function e(t){var n,a,r;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("","/api/").concat(t,"/stop"),e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.json();case 6:if(!(r=e.sent).error){e.next=9;break}throw r.error;case 9:return e.abrupt("return",r.deployStatus);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(pe.a)(fe.a.mark((function e(t){var n,a,r;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat("","/api/").concat(t,"/status"),e.next=3,fetch(n);case 3:return a=e.sent,e.next=6,a.json();case 6:if(!(r=e.sent).error){e.next=9;break}throw r.error;case 9:return e.abrupt("return",r.deployStatus);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=fe.a.mark(Te),ke=fe.a.mark(Ae);function Te(e){var t,n;return fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload?"data-generator":"simulation",a.next=4,Object(ge.b)((function(){return Ee(t)}));case 4:return n=a.sent,a.next=7,Object(ge.c)(y(n));case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(ge.c)(O({type:"error",message:a.t0}));case 13:case"end":return a.stop()}}),De,null,[[0,9]])}function Ae(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.e)("REQUEST_MODEL",Te);case 2:case"end":return e.stop()}}),ke)}var Re=Ae,Ie=fe.a.mark(Me),we=fe.a.mark(_e),xe=function(e){return e.model};function Me(e){var t,n,a;return fe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload?"data-generator":"simulation",r.next=4,Object(ge.d)(xe);case 4:if(!(n=r.sent)){r.next=15;break}return r.next=8,Object(ge.b)((function(){return be(t,n)}));case 8:return a=r.sent,r.next=11,Object(ge.c)(M(a.data));case 11:return r.next=13,Object(ge.c)(O({type:"success",message:"Model ".concat(n.name," has been updated!")}));case 13:r.next=16;break;case 15:throw Error("Undefined model");case 16:r.next=22;break;case 18:return r.prev=18,r.t0=r.catch(0),r.next=22,Object(ge.c)(O({type:"error",message:r.t0}));case 22:case"end":return r.stop()}}),Ie,null,[[0,18]])}function _e(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.e)("UPLOAD_MODEL",Me);case 2:case"end":return e.stop()}}),we)}var Fe=_e,Ne=fe.a.mark(Ge),Ve=fe.a.mark(Be),Pe=fe.a.mark(He),Ue=fe.a.mark(Ye),Le=function(e){return e.model};function Ge(e){var t,n,a;return fe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload?"data-generator":"simulation",r.next=4,Object(ge.d)(Le);case 4:return n=r.sent,r.next=7,Object(ge.b)((function(){return ye(t,n)}));case 7:return a=r.sent,r.next=10,Object(ge.c)(F());case 10:return r.next=12,Object(ge.c)(U(a));case 12:return r.next=14,Object(ge.c)(O({type:"success",message:"".concat(t.toUpperCase()," has been started!")}));case 14:r.next=20;break;case 16:return r.prev=16,r.t0=r.catch(0),r.next=20,Object(ge.c)(O({type:"error",message:r.t0}));case 20:case"end":return r.stop()}}),Ne,null,[[0,16]])}function Be(e){var t;return fe.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.payload?"data-generator":"simulation",n.next=4,Object(ge.b)((function(){return Se(t)}));case 4:return n.next=6,Object(ge.c)(V());case 6:return n.next=8,Object(ge.c)(U(null));case 8:return n.next=10,Object(ge.c)(O({type:"success",message:"".concat(t.toUpperCase()," has been stopped!")}));case 10:n.next=16;break;case 12:return n.prev=12,n.t0=n.catch(0),n.next=16,Object(ge.c)(O({type:"error",message:n.t0}));case 16:case"end":return n.stop()}}),Ve,null,[[0,12]])}function He(e){var t,n;return fe.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.payload?"data-generator":"simulation",a.next=4,Object(ge.b)((function(){return je(t)}));case 4:return n=a.sent,a.next=7,Object(ge.c)(U(n));case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(ge.c)(O({type:"error",message:a.t0}));case 13:case"end":return a.stop()}}),Pe,null,[[0,9]])}function Ye(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.e)("SEND_DEPLOY_START",Ge);case 2:return e.next=4,Object(ge.e)("SEND_DEPLOY_STOP",Be);case 4:return e.next=6,Object(ge.e)("REQUEST_DEPLOY_STATUS",He);case 6:case"end":return e.stop()}}),Ue)}var Ke=Ye,Je=fe.a.mark(ze),We=fe.a.mark(Xe),qe=fe.a.mark($e),Qe=fe.a.mark(Ze);function ze(e){var t,n,a;return fe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload,n=t?"data-generator":"simulation",r.next=5,Object(ge.b)((function(){return Ce(n)}));case 5:return a=r.sent,r.next=8,Object(ge.c)(H(a));case 8:r.next=14;break;case 10:return r.prev=10,r.t0=r.catch(0),r.next=14,Object(ge.c)(O({type:"error",message:r.t0}));case 14:case"end":return r.stop()}}),Je,null,[[0,10]])}function Xe(e){var t,n,a,r,o;return fe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,n=t.isDG,a=t.logFile,r=n?"data-generator":"simulation",c.next=5,Object(ge.b)((function(){return Oe(r,a)}));case 5:return o=c.sent,c.next=8,Object(ge.c)(B(o));case 8:c.next=14;break;case 10:return c.prev=10,c.t0=c.catch(0),c.next=14,Object(ge.c)(O({type:"error",message:c.t0}));case 14:case"end":return c.stop()}}),We,null,[[0,10]])}function $e(e){var t,n,a,r;return fe.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.payload,n=t.isDG,a=t.logFile,r=n?"data-generator":"simulation",o.next=5,Object(ge.b)((function(){return ve(r,a)}));case 5:o.next=11;break;case 7:return o.prev=7,o.t0=o.catch(0),o.next=11,Object(ge.c)(O({type:"error",message:o.t0}));case 11:case"end":return o.stop()}}),qe,null,[[0,7]])}function Ze(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.e)("REQUEST_LOGS",Xe);case 2:return e.next=4,Object(ge.e)("REQUEST_LOGFILES",ze);case 4:return e.next=6,Object(ge.e)("REQUEST_DELETE_LOG_FILE",$e);case 6:case"end":return e.stop()}}),Qe)}var et=Ze,tt=fe.a.mark(nt);function nt(){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ge.a)([Re(),Fe(),Ke(),et()]);case 2:case"end":return e.stop()}}),tt)}var at=nt,rt=function(){var e=Object(f.a)(),t=Object(m.e)(he,Object(m.d)(Object(m.a)(e),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}));return e.run(at),t},ot=(n(273),n(508)),ct=n(258),lt=n(84),it=n(185),ut=n.n(it),st=n(27),dt=n(28),ht=n(30),mt=n(29),ft=n(192),gt=n(514),pt=n(111),Et=n(59),bt=n(526),Ot=n(527),vt=n(528),Ct=n(529),yt=n(530),St=n(531),jt=n(532),Dt=n(533),kt=n(534),Tt=(n(274),ft.a.SubMenu),At=ot.a.Header,Rt=gt.a.Text,It=function(e){Object(ht.a)(n,e);var t=Object(mt.a)(n);function n(){return Object(st.a)(this,n),t.apply(this,arguments)}return Object(dt.a)(n,[{key:"onUpload",value:function(e){var t=this,n=new FileReader;n.onloadend=function(){try{var e=JSON.parse(n.result);t.props.setNewModel(e)}catch(a){t.props.setNotification({type:"error",message:a})}},n.readAsText(e[0])}},{key:"exportModel",value:function(e){if(e){var t=JSON.stringify(e),n=new Blob([t],{type:"text/json"}),a=URL.createObjectURL(n),r=document.createElement("a");r.download="".concat(e.name.replace(/ /g,""),".json"),r.href=a,r.click()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.resetEditor,a=t.startDeploy,r=t.stopDeploy,o=t.deployStatus,c=t.model,l=ae(),i=l?"/img/logo-data-generator.png":"/img/logo-simulation.png";return u.a.createElement(At,null,u.a.createElement(pt.a,null,u.a.createElement(Et.a,{span:4},u.a.createElement("a",{href:"/"},u.a.createElement("img",{src:i,className:"logo",style:{maxWidth:"250px",objectFit:"contain"}}))),u.a.createElement(Et.a,{span:14,push:6},u.a.createElement(ft.a,{theme:"dark",mode:"horizontal",style:{lineHeight:"64px"}},u.a.createElement(Tt,{title:u.a.createElement("a",{className:"submenu-title-wrapper",href:l?"/data-generator":"/"},u.a.createElement(bt.a,null),"Model")},u.a.createElement(ft.a.Item,{key:"model:1",onClick:function(){return e.inputFileDOM.click()}},u.a.createElement(Ot.a,null)," Import Model"),u.a.createElement(ft.a.Item,{key:"model:2",onClick:function(){return e.exportModel(c)}},u.a.createElement(vt.a,null),"Export Model"),u.a.createElement(ft.a.Item,{key:"model:3",onClick:n},u.a.createElement(Ct.a,null),"Reset Editor")),u.a.createElement(Tt,{title:u.a.createElement("span",{className:"submenu-title-wrapper"},u.a.createElement(yt.a,null),l?"Generate":"Simulate",o?u.a.createElement(St.a,{spin:!0}):null)},u.a.createElement(ft.a.Item,{key:"deploy:1",onClick:function(){return a(l)}},u.a.createElement(jt.a,null),l?"Generate":"Simulate"),u.a.createElement(ft.a.Item,{key:"deploy:2",onClick:function(){return r(l)}},u.a.createElement(Dt.a,null),"Terminate")),u.a.createElement(ft.a.Item,{key:"3"},u.a.createElement("a",{href:l?"/data-generator/logs":"/logs"},u.a.createElement(kt.a,null),"Logs")),u.a.createElement(ft.a.Item,{key:"4"},u.a.createElement("a",{href:l?"/":"/data-generator"},u.a.createElement(vt.a,null),u.a.createElement(Rt,{style:{color:"#ffff00fc"}},l?"Simulation":"Data Generator")))))),u.a.createElement("input",{type:"file",onChange:function(t){return e.onUpload(t.target.files)},ref:function(t){e.inputFileDOM=t},style:{display:"none"},accept:".json",multiple:!1}))}}]),n}(i.Component),wt=Object(h.b)((function(e){return{requesting:e.requesting,model:e.model,deployStatus:e.deployStatus}}),(function(e){return{setNotification:function(t){var n=t.type,a=t.message;return e(O({type:n,message:a}))},setNewModel:function(t){e(y(t))},resetEditor:function(){e(K())},startDeploy:function(t){return e(_(t))},stopDeploy:function(t){return e(N(t))},viewLogs:function(){e(G())}}}))(It),xt=n(239),Mt=n.n(xt),_t=ot.a.Footer,Ft=function(){return u.a.createElement(_t,{style:{textAlign:"center"}},"ENACT \xa9",(new Date).getFullYear()," Created by"," ",u.a.createElement("a",{href:"https://www.montimage.com"},"Montimage"),". Version ",Mt.a)},Nt=n(535),Vt=n(536),Pt=n(537),Ut=(n(341),ot.a.Sider),Lt=function(e){var t=e.defaultKey,n=e.items,a=e.rightSide,r=e.theme;return u.a.createElement(Ut,{className:"side-background-color",breakpoint:"lg",collapsedWidth:"0"},u.a.createElement(ft.a,{mode:"inline",theme:r||"light",style:a?{height:"100%",borderRight:0}:{height:"100%",borderLeft:10},defaultSelectedKeys:["".concat(t)],defaultOpenKeys:["sub".concat(t)]},n.map((function(e){return e.action?u.a.createElement(ft.a.Item,{key:e.key,onClick:e.action},e.icon,e.text):e.href?u.a.createElement(ft.a.Item,{key:e.key},u.a.createElement("a",{href:e.href},e.icon,e.text)):u.a.createElement(ft.a.Item,{key:e.key},e.icon,e.text)}))))},Gt=function(e){Object(ht.a)(n,e);var t=Object(mt.a)(n);function n(){return Object(st.a)(this,n),t.apply(this,arguments)}return Object(dt.a)(n,[{key:"render",value:function(){var e=this.props.showModal,t=[{key:3,text:"Thing",action:function(){return e("THING-FORM")},icon:u.a.createElement(Nt.a,null)},{key:1,text:"Sensor",action:function(){return e("SENSOR-FORM")},icon:u.a.createElement(Vt.a,null)},{key:2,text:"Actuator",action:function(){return e("ACTUATOR-FORM")},icon:u.a.createElement(Pt.a,null)}];return u.a.createElement(Lt,{rightSide:!0,items:t,theme:"dark"})}}]),n}(i.Component),Bt=Object(h.b)(null,(function(e){return{showModal:function(t){return e(J(t))}}}))(Gt),Ht=n(538),Yt=n(539),Kt=n(540),Jt=(n(342),function(e){Object(ht.a)(n,e);var t=Object(mt.a)(n);function n(){return Object(st.a)(this,n),t.apply(this,arguments)}return Object(dt.a)(n,[{key:"render",value:function(){var e=[{key:7,text:"List View",href:"?view=list",icon:u.a.createElement(Ht.a,null)},{key:5,text:"JSON View",href:"?view=json",icon:u.a.createElement(Yt.a,null)},{key:6,text:"Graph View",href:"?view=graph",icon:u.a.createElement(Kt.a,null)}],t=7,n=re("view");if(n)switch(n){case"list":t=7;break;case"json":t=5;break;case"graph":t=6}return u.a.createElement(Lt,{className:"right-sider",rightSide:!1,items:e,defaultKey:t,theme:"light"})}}]),n}(i.Component)),Wt=n(65),qt=n(524),Qt=n(519),zt=n(250),Xt=n(42),$t=n(513),Zt=(n(343),function(e){var t=e.visible,n=e.title,a=e.footer,r=e.onCancel,o=e.children;return u.a.createElement($t.a,{visible:t,title:n,footer:a,onCancel:r},o)}),en=n(516),tn=n(523),nn=function(e){var t=e.label,n=e.defaultValue,a=e.onChange,r=e.placeholder;return u.a.createElement(en.a.Item,{label:t},n?u.a.createElement(tn.a,{defaultValue:n,onChange:function(e){return a(e.target.value)}}):u.a.createElement(tn.a,{onChange:function(e){return a(e.target.value)},placeholder:r}))},an=n(127),rn=function(e){var t=e.label,n=e.defaultValue,a=e.onChange,r=e.options;return u.a.createElement(en.a.Item,{label:t},u.a.createElement(an.a,{defaultValue:n||(r?r[0]:null),onChange:function(e){return a(e)}},r.map((function(e){return u.a.createElement(an.a.Option,{value:e,key:e},e)}))))},on=n(520),cn=function(e){var t=e.label,n=e.defaultValue,a=e.min,r=e.max,o=e.onChange,c=e.placeholder;return u.a.createElement(en.a.Item,{label:t},n?u.a.createElement(on.a,{min:a,max:r,defaultValue:n,onChange:function(e){return o(e)},placeholder:c}):u.a.createElement(on.a,{min:a,max:r,onChange:function(e){return o(e)},placeholder:c}))},ln=n(517),un=n(110),sn=n.n(un),dn=ln.a.RangePicker,hn=function(e){var t=e.label,n=e.onChange,a=e.defaultValue,r=sn()(),o=sn()();return a&&2===a.length&&(r=sn()(a[0]),o=sn()(a[1])),u.a.createElement(en.a.Item,{label:t},u.a.createElement(dn,{defaultValue:[r,o],showTime:{format:"HH:mm"},format:"YYYY-MM-DD HH:mm",onChange:function(e,t){return n([new Date(t[0]).getTime(),new Date(t[1]).getTime()])}}))},mn=n(509),fn=function(e){var t=e.label,n=e.checked,a=e.onChange,r=e.checkedChildren,o=e.unCheckedChildren;return u.a.createElement(en.a.Item,{label:t},u.a.createElement(mn.a,{onChange:function(e){return a(e)},checkedChildren:r,unCheckedChildren:o,checked:n}))},gn=n(521),pn=function(e){var t=e.label,n=e.defaultValue,a=e.onChange,r=e.options;return u.a.createElement(en.a.Item,{label:t},u.a.createElement(gn.a.Group,{options:r,defaultValue:n,onChange:a}))},En=n(512),bn=n(511),On=function(e){var t=e.label,n=e.items,a=e.onChange;return u.a.createElement(en.a.Item,{label:t},u.a.createElement(En.a,{grid:{gutter:16,column:n.length},dataSource:n,renderItem:function(e){return u.a.createElement(En.a.Item,null,u.a.createElement(bn.a,{size:"small",bordered:!1,title:e.title},u.a.createElement(on.a,{onChange:function(t){return a(e.dataPath,t)},defaultValue:e.defaultValue?e.defaultValue:0,placeholder:e.title})))}}))},vn=gt.a.Paragraph,Cn=(gt.a.Text,function(e){var t=e.label,n=e.defaultValue,a=e.onChange;return u.a.createElement(en.a.Item,{label:t},u.a.createElement(vn,{editable:{onChange:function(e){a(e)}}},n))}),yn=function(e){var t=e.defaultValue,n=e.dataPath,a=e.onDataChange;return u.a.createElement(u.a.Fragment,null,u.a.createElement(nn,{label:"User",defaultValue:t.user,onChange:function(e){return a("".concat(n?"".concat(n,"."):"","user"),e)},placeholder:"Username"}),u.a.createElement(nn,{label:"Password",defaultValue:t.password,onChange:function(e){return a("".concat(n?"".concat(n,"."):"","password"),e)},placeholder:"Password"}),u.a.createElement(nn,{label:"Database",defaultValue:t.dbname,onChange:function(e){return a("".concat(n?"".concat(n,"."):"","dbname"),e)},placeholder:"Database name"}))},Sn=n(515),jn=Sn.a.Panel,Dn=function(e){var t=e.title,n=e.children,a=e.bordered,r=void 0===a||a,o=e.active;return u.a.createElement(Sn.a,{accordion:!0,style:{margin:"10px"},defaultActiveKey:o?["1"]:null,bordered:r},u.a.createElement(jn,{header:t,key:"1"},n))},kn=function(e){var t=e.defaultValue,n=e.dataPath,a=e.onDataChange,r=e.type;return u.a.createElement(Dn,{title:"Connection Configuration",bordered:!1,active:!0},u.a.createElement(nn,{label:"Host",defaultValue:t.host,onChange:function(e){return a("".concat(n?"".concat(n,"."):"","host"),e)}}),u.a.createElement(cn,{label:"Port",min:1023,max:65535,defaultValue:t.port,onChange:function(e){return a("".concat(n?"".concat(n,"."):"","port"),e)}}),"MONGODB"===r&&u.a.createElement(u.a.Fragment,null,u.a.createElement(yn,{defaultValue:t,dataPath:n,onDataChange:a})),u.a.createElement(nn,{label:"Options",defaultValue:JSON.stringify(t.options),onChange:function(e){return a("".concat(n?"".concat(n,"."):"","options"),e)},placeholder:"Connection options in JSON format"}))},Tn=function(e){Object(ht.a)(n,e);var t=Object(mt.a)(n);function n(e){var a;Object(st.a)(this,n),a=t.call(this,e);var r="simulation"===e.tool,o={id:"thing-id-".concat(Date.now()),name:"thing-name-".concat(Date.now()),protocol:r?"MQTT":"DATABASE",behaviours:[],timeToDown:0,connConfig:{host:"localhost",port:r?1883:27017,options:null},sensors:[],actuators:[],enable:!0};return a.state={data:e.selectedThing?Z(e.selectedThing):o,error:null},a}return Object(dt.a)(n,[{key:"handleOk",value:function(){var e=this.props,t=e.addThing,n=e.showModal,a=e.selectThing,r=this.state.data,o=Object(X.a)({},r),c=null;if(o.connConfig.options)try{var l=JSON.parse(o.connConfig.options);$(o,"connConfig.options",l)}catch(i){c="Invalid option! The communication options must be in JSON format"}c?this.setState({error:c}):(t(r),n(null),a(null))}},{key:"handleCancel",value:function(){this.props.showModal(null),this.props.selectThing(null)}},{key:"handleDuplicate",value:function(){var e=this.props,t=e.addThing,n=e.showModal,a=e.selectThing,r="thing-".concat(Date.now()),o=Object(X.a)({},this.state.data);$(o,"id",r),$(o,"name","New Thing"),t(o),a(o),setTimeout((function(){n("THING-FORM")}),500),n(null)}},{key:"onDataChange",value:function(e,t){this.setState((function(n){var a=Object(X.a)({},n.data);return $(a,e,t),{data:a,error:null}}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,a=t.error,r=this.props,o=r.formID,c=r.tool,l=null;return l=this.props.selectedThing?[u.a.createElement(Xt.a,{key:"duplicate",onClick:function(){return e.handleDuplicate()}},"Duplicate"),u.a.createElement(Xt.a,{key:"cancel",onClick:function(){return e.handleCancel()}},"Cancel"),u.a.createElement(Xt.a,{key:"ok",type:"primary",onClick:function(){return e.handleOk()}},"OK")]:[u.a.createElement(Xt.a,{key:"cancel",onClick:function(){return e.handleCancel()}},"Cancel"),u.a.createElement(Xt.a,{key:"ok",type:"primary",onClick:function(){return e.handleOk()}},"OK")],u.a.createElement(Zt,{title:"Thing",visible:"THING-FORM"===o,onCancel:function(){return e.handleCancel()},footer:l},u.a.createElement(en.a,{labelCol:{span:4},wrapperCol:{span:14}},u.a.createElement(nn,{label:"Id",defaultValue:n.id,onChange:function(t){return e.onDataChange("id",t)}}),u.a.createElement(nn,{label:"Name",defaultValue:n.name,onChange:function(t){return e.onDataChange("name",t)}}),u.a.createElement(cn,{label:"Scale",min:1,max:1e6,placeholder:"Number of instances",defaultValue:n.scale,onChange:function(t){return e.onDataChange("scale",t)}}),u.a.createElement(pn,{label:"Gateway Behaviours",defaultValue:n.behaviours?n.behaviours:[],onChange:function(t){return e.onDataChange("behaviours",t)},options:["GATEWAY_DOWN"]}),n.behaviours&&n.behaviours.indexOf("GATEWAY_DOWN")>-1&&u.a.createElement(cn,{label:"Time Before Down",min:1,max:65535,defaultValue:n.timeToDown?n.timeToDown:10,onChange:function(t){return e.onDataChange("timeToDown",t)}}),u.a.createElement("span",null,"Communication detail"),u.a.createElement("p",null),"simulation"===c?u.a.createElement(u.a.Fragment,null,u.a.createElement(rn,{label:"Protocol",defaultValue:n.protocol,onChange:function(t){return e.onDataChange("protocol",t)},options:["MQTT","STOMP"]}),u.a.createElement(kn,{defaultValue:n.connConfig,dataPath:"connConfig",onDataChange:function(t,n){return e.onDataChange(t,n)},type:n.protocol})):u.a.createElement(kn,{defaultValue:n.connConfig,dataPath:"connConfig",onDataChange:function(t,n){return e.onDataChange(t,n)},type:"MONGODB"}),u.a.createElement(fn,{label:"Enable",onChange:function(t){return e.onDataChange("enable",t)},checked:!!n.enable,checkedChildren:"On",unCheckedChildren:"Off"})),a&&u.a.createElement(qt.a,{message:a,type:"error"}))}}]),n}(i.Component),An=Object(h.b)((function(e){var t=e.editingForm,n=e.model,a=e.tool;return{formID:t.formID,selectedThing:t.selectedThing,things:n.things,tool:a}}),(function(e){return{showModal:function(t){return e(J(t))},deleteThing:function(t){return e(D(t))},addThing:function(t){return e(j(t))},selectThing:function(t){return e(W(t))}}}))(Tn),Rn=(n(473),An),In=function(e){var t=e.dataPath,n=e.dataSource,a=e.onDataChange;return u.a.createElement(u.a.Fragment,null,u.a.createElement(kn,{defaultValue:n.connConfig,dataPath:"".concat(t,".connConfig"),onDataChange:function(e,t){return a(e,t)},type:"MONGODB"}),u.a.createElement(nn,{label:"sensor-id",defaultValue:n.devId,onChange:function(e){return a("".concat(t,".devId"),e)}}),u.a.createElement(hn,{label:"Time Range",defaultValue:[n.startTime?n.startTime:Date.now(),n.endTime?n.endTime:Date.now()],onChange:function(e){a("".concat(t,".startTime"),e[0]),a("".concat(t,".endTime"),e[1])}}))},wn=(n(474),["AB_FIX_VALUE","AB_INVALID_VALUE","NORMAL_BEHAVIOUR"]),xn=function(e){var t=e.dataPath,n=e.defaultValue,a=e.onChange,r=e.behaviours,o=e.children;return u.a.createElement(Dn,{title:n.key},u.a.createElement(nn,{label:"Resource Id",defaultValue:n.resourceId,onChange:function(e){return a("".concat(t,".resourceId"),e)},placeholder:"Optional"}),u.a.createElement(nn,{label:"key",defaultValue:n.key,onChange:function(e){return a("".concat(t,".key"),e)},placeholder:"Require"}),u.a.createElement(nn,{label:"unit",defaultValue:n.unit,onChange:function(e){return a("".concat(t,".unit"),e)},placeholder:"Unit of the measurement"}),u.a.createElement(pn,{label:"Behaviours",defaultValue:n.behaviours,onChange:function(e){return a("".concat(t,".behaviours"),e)},options:r?wn.concat(r):wn}),o,u.a.createElement(Xt.a,{type:"danger",onClick:function(){return a(t,null)}},"Remove"))},Mn=function(e){var t=e.dataPath,n=e.defaultValue,a=e.onChange;return u.a.createElement(u.a.Fragment,null,u.a.createElement(xn,{dataPath:t,defaultValue:n,onChange:function(e,t){return a(e,t)}},u.a.createElement(cn,{label:"Init Value",min:1,max:65535,defaultValue:n.initValue,onChange:function(e){return a("".concat(t,".initValue"),e)}}),u.a.createElement(On,{label:"Energy",items:[{title:"Consum",dataPath:"".concat(t,".consumInOnePeriod"),defaultValue:n.consumInOnePeriod},{title:"Low",dataPath:"".concat(t,".low"),defaultValue:n.low},{title:"Slow Down Rate",dataPath:"".concat(t,".slowDownRate"),defaultValue:n.slowDownRate}],onChange:function(e,t){return a(e,t)}})))},_n=function(e){var t=e.dataPath,n=e.defaultValue,a=e.onChange;return u.a.createElement(u.a.Fragment,null,u.a.createElement(xn,{dataPath:t,defaultValue:n,onChange:function(e,t){return a(e,t)}},u.a.createElement(fn,{label:"Init Value",onChange:function(e){return a("".concat(t,".initValue"),e)},checked:!!n.initValue,checkedChildren:"True",unCheckedChildren:"False"})))},Fn=function(e){var t=e.dataPath,n=e.defaultValue,a=e.onChange;return u.a.createElement(u.a.Fragment,null,u.a.createElement(xn,{dataPath:t,defaultValue:n,onChange:function(e,t){return a(e,t)}},u.a.createElement(rn,{label:"Init Value",defaultValue:n.initValue,onChange:function(e){return a("".concat(t,".initValue"),e)},options:n.values}),u.a.createElement(nn,{label:"Value",defaultValue:JSON.stringify(n.values),onChange:function(e){return a("".concat(t,".values"),JSON.parse(e))},placeholder:"List of value should be separated by comma (,)"})))},Nn={min:0,max:100,regularMin:0,regularMax:100,step:2},Vn=function(e){var t=e.defaultValue,n=e.dataPath,a=e.onChange;return u.a.createElement(Dn,{title:"Value Constraints"},u.a.createElement(On,{label:"Range",items:[{title:"Min",dataPath:"".concat(n,".min"),defaultValue:t.min},{title:"Max",dataPath:"".concat(n,".max"),defaultValue:t.max}],onChange:function(e,t){return a(e,t)}}),u.a.createElement(On,{label:"Regular Range",items:[{title:"Regular Min",dataPath:"".concat(n,".regularMin"),defaultValue:t.regularMin},{title:"Regular Max",dataPath:"".concat(n,".regularMax"),defaultValue:t.regularMax},{title:"Step",dataPath:"".concat(n,".step"),defaultValue:t.step}],onChange:function(e,t){return a(e,t)}}))},Pn=function(e){var t=e.dataPath,n=e.defaultValue,a=e.onChange;return u.a.createElement(u.a.Fragment,null,u.a.createElement(xn,{dataPath:t,defaultValue:n,onChange:function(e,t){return a(e,t)},behaviours:["AB_VALUE_OUT_OF_RANGE","AB_VALUE_OUT_OF_REGULAR_RANGE","AB_VALUE_CHANGE_OUT_OF_REGULAR_STEP"]},u.a.createElement(cn,{label:"Init Value",defaultValue:n.initValue,onChange:function(e){return a("".concat(t,".initValue"),e)}}),u.a.createElement(fn,{label:"Value Constraints",onChange:function(e){return a("".concat(t,".withValueConstraints"),e)},checked:!!n.withValueConstraints,checkedChildren:"Enable",unCheckedChildren:"Disable"}),n.withValueConstraints?n.valueConstraints?u.a.createElement(Vn,{defaultValue:n.valueConstraints,dataPath:"".concat(t,".valueConstraints"),onChange:function(e,t){return a(e,t)}}):u.a.createElement(Vn,{defaultValue:Nn,dataPath:"".concat(t,".valueConstraints"),onChange:function(e,t){return a(e,t)}}):u.a.createElement(u.a.Fragment,null)))},Un=function(e){var t=e.dataPath,n=e.sources,a=e.onChange;return u.a.createElement(i.Fragment,null,n.map((function(e,n){if(e)switch(e.type){case"DATA_SOURCE_BOOLEAN":return u.a.createElement(_n,{key:n,dataPath:"".concat(t,"[").concat(n,"]"),defaultValue:e,onChange:function(e,t){return a(e,t)}});case"DATA_SOURCE_ENUM":return u.a.createElement(Fn,{key:n,dataPath:"".concat(t,"[").concat(n,"]"),defaultValue:e,onChange:function(e,t){return a(e,t)}});case"DATA_SOURCE_INTEGER":case"DATA_SOURCE_FLOAT":return u.a.createElement(Pn,{key:n,dataPath:"".concat(t,"[").concat(n,"]"),defaultValue:e,onChange:function(e,t){return a(e,t)}})}})))},Ln=n(510),Gn=n(525),Bn=n(541),Hn=function(e){var t=e.dataPath,n=e.dataSource,a=e.onDataChange,r=e.showEnergyOption,o=void 0===r||r;return u.a.createElement(u.a.Fragment,null,u.a.createElement(cn,{label:"Scale",min:1,max:1e6,placeholder:"Number of instances",defaultValue:n.scale,onChange:function(e){return a("".concat(t,".scale"),e)}}),u.a.createElement(cn,{label:"Time Period",min:1,max:65535,defaultValue:n.timePeriod,onChange:function(e){return a("".concat(t,".timePeriod"),e)}}),u.a.createElement(pn,{label:"Sensor Behaviours",defaultValue:n.sensorBehaviours,onChange:function(e){return a("".concat(t,".sensorBehaviours"),e)},options:["AB_LOW_ENERGY","AB_OUT_OF_ENERGY","AB_NODE_FAILED","AB_DOS_ATTACK","AB_SLOW_DOS_ATTACK","NORMAL_BEHAVIOUR"]}),n.sensorBehaviours.indexOf("AB_DOS_ATTACK")>-1&&u.a.createElement(cn,{label:"DOS attack speedup rate",min:1,max:100,defaultValue:n.dosAttackSpeedUpRate,onChange:function(e){return a("".concat(t,".dosAttackSpeedUpRate"),e)}}),n.sensorBehaviours.indexOf("AB_NODE_FAILED")>-1&&u.a.createElement(cn,{label:"Time Before Failed",min:1,max:65535,defaultValue:n.timeBeforeFailed,onChange:function(e){return a("".concat(t,".timeBeforeFailed"),e)}}),u.a.createElement(fn,{label:"IP Smart Object Format",onChange:function(e){return a("".concat(t,".isIPSOFormat"),e)},checked:!!n.isIPSOFormat,checkedChildren:"Enable",unCheckedChildren:"Disable"}),u.a.createElement(Ln.a,null,u.a.createElement("h3",null,"Measurements")),o&&u.a.createElement(u.a.Fragment,null,u.a.createElement(fn,{label:"Energy Measurement",onChange:function(e){return a("".concat(t,".withEnergy"),e)},checked:!!n.withEnergy,checkedChildren:"Enable",unCheckedChildren:"Disable"}),n.withEnergy&&u.a.createElement(Mn,{dataPath:"".concat(t,".energy"),defaultValue:n.energy?n.energy:{type:"DATA_SOURCE_ENERGY",key:"battery",resourceId:"battery-01",initValue:1500,unit:"mA",behaviours:[],low:1e3,slowDownRate:2,consumInOnePeriod:200},onChange:function(e,t){return a(e,t)}})),u.a.createElement(Un,{dataPath:"".concat(t,".sources"),sources:n.sources?n.sources:[],onChange:function(e,t){return a(e,t)}}),u.a.createElement(Gn.a,{overlay:u.a.createElement(ft.a,null,u.a.createElement(ft.a.Item,{key:"1",onClick:function(){var e=n.sources.length,r="".concat(t,".sources[").concat(e,"]");a(r,{type:"DATA_SOURCE_BOOLEAN",key:"your-boolean-data-key",resourceId:"boolean-measure-id",initValue:!0,unit:"",behaviours:[]})}},"Boolean Data Type"),u.a.createElement(ft.a.Item,{key:"2",onClick:function(){var e=n.sources.length,r="".concat(t,".sources[").concat(e,"]");a(r,{type:"DATA_SOURCE_ENUM",key:"your-enum-data-key",resourceId:"enum-measure-id",initValue:"value1",unit:"",behaviours:[],values:["value1","value2"]})}},"Enum Data Type"),u.a.createElement(ft.a.Item,{key:"3",onClick:function(){var e=n.sources.length,r="".concat(t,".sources[").concat(e,"]");a(r,{type:"DATA_SOURCE_INTEGER",key:"your-integer-data-key",resourceId:"integer-measure-id",initValue:10,unit:"",behaviours:[],valueConstraints:{min:0,max:100,regularMin:20,regularMax:80,step:1}})}},"Integer Data Type"),u.a.createElement(ft.a.Item,{key:"4",onClick:function(){var e=n.sources.length,r="".concat(t,".sources[").concat(e,"]");a(r,{type:"DATA_SOURCE_FLOAT",key:"your-float-data-key",resourceId:"float-measure-id",initValue:10,unit:"",behaviours:[],valueConstraints:{min:0,max:100,regularMin:20,regularMax:80,step:1}})}},"Float Data Type")),placement:"topLeft"},u.a.createElement(Xt.a,{type:"primary",style:{margin:"20px"}},"Add New Measure ",u.a.createElement(Bn.a,null))))},Yn=function(){return{connConfig:{host:"localhost",port:27017,username:null,password:null,options:null},devId:null,dbname:null,startTime:Date.now(),endTime:Date.now()}},Kn=function(){return{id:"id-".concat(Date.now()),objectId:null,name:"name-".concat(Date.now()),enable:!0,isFromDatabase:!1,topic:null,userData:null,dataSource:{timePeriod:5,scale:1,dosAttackSpeedUpRate:5,timeBeforeFailed:20,sensorBehaviours:[],withEnergy:!1,isIPSOFormat:!1,energy:null,sources:[]}}},Jn=function(e){Object(ht.a)(n,e);var t=Object(mt.a)(n);function n(e){var a;Object(st.a)(this,n),a=t.call(this,e);var r=e.model,o=e.selectedSensor,c=e.selectedActuator,l=e.formID,i=[null],u=null,s="SENSOR-FORM"===l?o:"ACTUATOR-FORM"===l?c:null;if(r.things)for(var d=r.things,h=0;h<d.length;h++)if(i.push(d[h].id),null!==s&&null===u){var m=d[h],f=m.sensors,g=m.actuators;if("SENSOR-FORM"===l&&f){for(var p=0;p<f.length;p++)if(f[p].id===s.id){u=d[h].id;break}}else if("ACTUATOR-FORM"===l&&g)for(var E=0;E<g.length;E++)if(g[E].id===s.id){u=d[h].id;break}}var b=Z(Yn()),O=Z({timePeriod:5,scale:1,dosAttackSpeedUpRate:5,timeBeforeFailed:20,sensorBehaviours:[],withEnergy:!1,isIPSOFormat:!1,energy:null,sources:[]}),v=Kn();return s&&((v=Z(s)).isFromDatabase?b=v.dataSource:O=v.dataSource),a.state={data:v,thingID:i[1],thingIDs:i,replayDS:b,generateDS:O,error:null},a}return Object(dt.a)(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.model,n=e.selectedSensor,a=e.selectedActuator,r=e.formID,o=[null],c=null,l="SENSOR-FORM"===r?n:"ACTUATOR-FORM"===r?a:null;if(t.things)for(var i=t.things,u=0;u<i.length;u++)if(o.push(i[u].id),null!==l&&null===c){var s=i[u],d=s.sensors,h=s.actuators;if("SENSOR-FORM"===r&&d){for(var m=0;m<d.length;m++)if(d[m].id===l.id){c=i[u].id;break}}else if("ACTUATOR-FORM"===r&&h)for(var f=0;f<h.length;f++)if(h[f].id===l.id){c=i[u].id;break}}var g=Z(Yn()),p=Z({timePeriod:5,scale:1,dosAttackSpeedUpRate:5,timeBeforeFailed:20,sensorBehaviours:[],withEnergy:!1,isIPSOFormat:!1,energy:null,sources:[]}),E=Kn();l&&((E=Z(l)).isFromDatabase?g=E.dataSource:p=E.dataSource),this.setState({data:E,thingID:c||o[1],thingIDs:o,replayDS:g,generateDS:p,error:null,isDG:!1})}},{key:"componentDidMount",value:function(){this.setState({isDG:ae()})}},{key:"onThingChange",value:function(e){this.setState({thingID:e})}},{key:"onChangeDataSource",value:function(e){e?this.setState((function(e){var t=Object(X.a)({},e.data);return $(t,"dataSource",e.replayDS),$(t,"isFromDatabase",!0),{data:t,error:null,generateDS:e.generateDS}})):this.setState((function(e){var t=Object(X.a)({},e.data);return $(t,"dataSource",e.generateDS),$(t,"isFromDatabase",!1),{data:t,error:null,replayDS:e.replayDS}}))}},{key:"onDataChange",value:function(e,t){this.setState((function(n){var a=Object(X.a)({},n.data);return $(a,e,t),{data:a,error:null}}))}},{key:"handleOk",value:function(){var e=this.state,t=e.thingID,n=e.data,a=this.props,r=a.formID,o=a.addSimulationSensor,c=a.addSimulationActuator,l=a.showModal;"SENSOR-FORM"===r?(o(t,n),l(null),this.props.selectSensor(null)):"ACTUATOR-FORM"===r?(c(t,n),l(null),this.props.selectActuator(null)):(console.log("[ERROR] Invalid form: ".concat(r)),this.setState({error:"[ERROR] Invalid form: ".concat(r)}))}},{key:"handleCancel",value:function(){this.props.showModal(null),this.props.selectSensor(null),this.props.selectActuator(null)}},{key:"handleDuplicate",value:function(){var e=this.state,t=e.thingID,n=e.isDG,a=this.props,r=a.formID,o=a.addSimulationSensor,c=a.addSimulationActuator,l=a.showModal,i=a.selectSensor,u=a.selectActuator;if("SENSOR-FORM"===r){var s="sensor-".concat(Date.now()),d=Object(X.a)(Object(X.a)({},this.state.data),{},{id:s,name:"New Sensor"});o(t,d),i(d),setTimeout((function(){l("SENSOR-FORM")}),1e3),l(null)}else if("ACTUATOR-FORM"===r){var h="act-".concat(Date.now()),m=Object(X.a)(Object(X.a)({},this.state.data),{},{id:h,name:"New Actuator"});n?(c(m),setTimeout((function(){l("ACTUATOR-FORM")}),1e3),u(m),l(null)):(console.log("[ERROR] Undefined tool or invalid form: ".concat(n,", ").concat(r)),this.setState({error:"[ERROR] Undefined tool or invalid form: ".concat(n,", ").concat(r)}))}else console.log("[ERROR] Invalid form: ".concat(r)),this.setState({error:"[ERROR] Invalid form: ".concat(r)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,a=t.error,r=t.thingID,o=t.thingIDs,c=t.isDG,l=this.props,i=l.formID,s=l.selectedActuator,d=l.selectedSensor;if(!c&&"ACTUATOR-FORM"===i)return null;var h=null;h=d&&"SENSOR-FORM"===i||s&&"ACTUATOR-FORM"===i?[u.a.createElement(Xt.a,{key:"duplicate",onClick:function(){return e.handleDuplicate()}},"Duplicate"),u.a.createElement(Xt.a,{key:"cancel",onClick:function(){return e.handleCancel()}},"Cancel"),u.a.createElement(Xt.a,{key:"ok",type:"primary",onClick:function(){return e.handleOk()}},"OK")]:[u.a.createElement(Xt.a,{key:"cancel",onClick:function(){return e.handleCancel()}},"Cancel"),u.a.createElement(Xt.a,{key:"ok",type:"primary",onClick:function(){return e.handleOk()}},"OK")];var m="SENSOR-FORM"===i,f=n.topic?n.topic:"things/".concat(r,"/sensors").concat(n.objectId?"/".concat(n.objectId):"","/").concat(n.id);return u.a.createElement(Zt,{title:"".concat(m?"Sensor":"Actuator"),visible:m||c&&"ACTUATOR-FORM"===i,onCancel:function(){return e.handleCancel()},footer:h},u.a.createElement(en.a,{labelCol:{span:4},wrapperCol:{span:14}},u.a.createElement(rn,{label:"Thing",defaultValue:r,onChange:function(t){return e.onThingChange(t)},options:o}),u.a.createElement(nn,{label:"Instance Id",defaultValue:n.id,onChange:function(t){return e.onDataChange("id",t)},placeholder:"Identify of the device"}),u.a.createElement(nn,{label:"Object Id",defaultValue:n.objectId,onChange:function(t){return e.onDataChange("objectId",t)},placeholder:"Identify of the type of device (IPSO Standard)"}),u.a.createElement(nn,{label:"Name",defaultValue:n.name,onChange:function(t){return e.onDataChange("name",t)}}),!c&&u.a.createElement(Cn,{label:"Topic",defaultValue:f,onChange:function(t){return e.onDataChange("topic",t)}}),u.a.createElement(nn,{label:"User Data",defaultValue:JSON.stringify(n.userData),onChange:function(t){return e.onDataChange("userData",t)},placeholder:"User data in JSON format"}),u.a.createElement(fn,{label:"Enable",onChange:function(t){return e.onDataChange("enable",t)},checked:!!n.enable,checkedChildren:"On",unCheckedChildren:"Off"}),u.a.createElement(rn,{label:"Data Source",defaultValue:n.isFromDatabase?"Replay":"Generate",onChange:function(t){e.onChangeDataSource("Replay"===t)},options:["Replay","Generate"]}),n.isFromDatabase?u.a.createElement(In,{dataPath:"dataSource",dataSource:n.dataSource,onDataChange:function(t,n){return e.onDataChange(t,n)}}):u.a.createElement(Hn,{dataPath:"dataSource",dataSource:n.dataSource,onDataChange:function(t,n){return e.onDataChange(t,n)},showEnergyOption:!c&&"SENSOR-FORM"===i})),a&&u.a.createElement(qt.a,{message:a,type:"error"}))}}]),n}(i.Component),Wn=Object(h.b)((function(e){var t=e.editingForm,n=e.model;return{formID:t.formID,selectedSensor:t.selectedSensor,selectedActuator:t.selectedActuator,model:n}}),(function(e){return{showModal:function(t){return e(J(t))},addSimulationSensor:function(t,n){return e(k({thingID:t,sensor:n}))},addSimulationActuator:function(t,n){return e(T({thingID:t,actuator:n}))},selectActuator:function(t){return e(z(t))},selectSensor:function(t){return e(Q(t))}}}))(Jn),qn=(n(477),Wn),Qn=function(){return{id:"act-id-".concat(Date.now()),objectId:null,name:"act-name-".concat(Date.now()),topic:null,enable:!0}},zn=function(e){Object(ht.a)(n,e);var t=Object(mt.a)(n);function n(e){var a;Object(st.a)(this,n),a=t.call(this,e);var r=e.model,o=e.selectedActuator,c=[null],l=null;if(r.things)for(var i=r.things,u=0;u<i.length;u++)if(c.push(i[u].id),null!==o&&null===l)for(var s=i[u].actuators,d=0;d<s.length;d++)if(s[d].id===o.id){l=i[u].id;break}return a.state={data:o?Z(o):Qn(),thingID:l||c[0],thingIDs:c,error:null},a}return Object(dt.a)(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.model,n=e.selectedActuator,a=[null],r=null;if(t.things)for(var o=t.things,c=0;c<o.length;c++)if(a.push(o[c].id),null!==n&&null===r)for(var l=o[c].actuators,i=0;i<l.length;i++)if(l[i].id===n.id){r=o[c].id;break}this.setState({data:n?Z(n):Qn(),thingID:r||a[0],thingIDs:a,error:null})}},{key:"onThingChange",value:function(e){this.setState({thingID:e})}},{key:"onDataChange",value:function(e,t){this.setState((function(n){var a=Object(X.a)({},n.data);return $(a,e,t),{data:a,error:null}}))}},{key:"handleOk",value:function(){var e=this.state,t=e.thingID,n=e.data,a=this.props,r=a.addSimulationActuator,o=a.showModal;r(t,n),o(null),this.props.selectActuator(null)}},{key:"handleCancel",value:function(){this.props.showModal(null),this.props.selectActuator(null)}},{key:"handleDuplicate",value:function(){var e=this.state.thingID,t=this.props,n=t.addSimulationActuator,a=t.showModal,r=t.selectActuator,o="act-".concat(Date.now()),c=Object(X.a)(Object(X.a)({},this.state.data),{},{id:o,objectId:this.state.objectId,name:"New Actuator"});n(e,c),a(null),setTimeout((function(){r(c),a("ACTUATOR-FORM")}),300)}},{key:"render",value:function(){var e=this,t=this.state,n=t.data,a=t.error,r=t.thingID,o=t.thingIDs,c=this.props.formID,l=null;l=this.props.selectedActuator?[u.a.createElement(Xt.a,{key:"duplicate",onClick:function(){return e.handleDuplicate()}},"Duplicate"),u.a.createElement(Xt.a,{key:"cancel",onClick:function(){return e.handleCancel()}},"Cancel"),u.a.createElement(Xt.a,{key:"ok",type:"primary",onClick:function(){return e.handleOk()}},"OK")]:[u.a.createElement(Xt.a,{key:"cancel",onClick:function(){return e.handleCancel()}},"Cancel"),u.a.createElement(Xt.a,{key:"ok",type:"primary",onClick:function(){return e.handleOk()}},"OK")];var i=n.topic?n.topic:"things/".concat(r,"/actuators").concat(n.objectId?"/".concat(n.objectId):"","/").concat(n.id,"/#"),s=ae();return u.a.createElement(Zt,{title:"Actuator",visible:"ACTUATOR-FORM"===c&&!s,onCancel:function(){return e.handleCancel()},footer:l},u.a.createElement(en.a,{labelCol:{span:4},wrapperCol:{span:14}},u.a.createElement(rn,{label:"Thing",defaultValue:r,onChange:function(t){return e.onThingChange(t)},options:o}),u.a.createElement(nn,{label:"Instance Id",defaultValue:n.id,onChange:function(t){return e.onDataChange("id",t)}}),u.a.createElement(nn,{label:"Object Id",defaultValue:n.objectId,onChange:function(t){return e.onDataChange("objectId",t)},placeholder:"Identify of device type (IP Smart Object Format)"}),u.a.createElement(nn,{label:"Name",defaultValue:n.name,onChange:function(t){return e.onDataChange("name",t)}}),u.a.createElement(cn,{label:"Scale",min:1,max:1e6,placeholder:"Number of instances",defaultValue:n.scale,onChange:function(t){return e.onDataChange("scale",t)}}),u.a.createElement(Cn,{label:"Topic",defaultValue:i,onChange:function(t){return e.onDataChange("topic",t)}}),u.a.createElement(fn,{label:"Enable",onChange:function(t){return e.onDataChange("enable",t)},checked:!!n.enable,checkedChildren:"On",unCheckedChildren:"Off"})),a&&u.a.createElement(qt.a,{message:a,type:"error"}))}}]),n}(i.Component),Xn=Object(h.b)((function(e){var t=e.editingForm,n=e.model;return{formID:t.formID,selectedActuator:t.selectedActuator,model:n}}),(function(e){return{showModal:function(t){return e(J(t))},selectActuator:function(t){return e(z(t))},addSimulationActuator:function(t,n){return e(T({thingID:t,actuator:n}))}}}))(zn),$n=(n(478),Xn),Zn=n(154),ea=n(253),ta=n.n(ea),na=(n(479),{tree:"tree",view:"view",form:"form",code:"code",text:"text"}),aa=Object.values(na);na.allValues=aa;var ra=function(e){Object(ht.a)(n,e);var t=Object(mt.a)(n);function n(e){var a;return Object(st.a)(this,n),(a=t.call(this,e)).htmlElementRef=null,a.jsonEditor=null,a.handleChange=a.handleChange.bind(Object(Wt.a)(a)),a.setRef=a.setRef.bind(Object(Wt.a)(a)),a.collapseAll=a.collapseAll.bind(Object(Wt.a)(a)),a.expandAll=a.expandAll.bind(Object(Wt.a)(a)),a.focus=a.focus.bind(Object(Wt.a)(a)),a}return Object(dt.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.allowedModes,n=(e.innerRef,e.htmlElementProps,e.tag,e.onChange,Object(Zn.a)(e,["allowedModes","innerRef","htmlElementProps","tag","onChange"]));this.createEditor(Object(X.a)(Object(X.a)({},n),{},{modes:t}))}},{key:"componentDidUpdate",value:function(e){var t=e.allowedModes,n=e.schema,a=e.name,r=e.theme,o=e.schemaRefs,c=(e.innerRef,e.htmlElementProps,e.tag,e.onChange,Object(Zn.a)(e,["allowedModes","schema","name","theme","schemaRefs","innerRef","htmlElementProps","tag","onChange"]));this.jsonEditor&&(r!==this.props.theme?this.createEditor(Object(X.a)(Object(X.a)({},c),{},{theme:r,modes:t})):(n===this.props.schema&&o===this.props.schemaRefs||this.jsonEditor.setSchema(n,o),a!==this.jsonEditor.getName()&&this.jsonEditor.setName(a)))}},{key:"shouldComponentUpdate",value:function(e){return e.htmlElementProps!==this.props.htmlElementProps}},{key:"componentWillUnmount",value:function(){this.jsonEditor&&(this.jsonEditor.destroy(),this.jsonEditor=null)}},{key:"componentWillReceiveProps",value:function(e){this.props.value!==e.value&&this.jsonEditor.set(e.value)}},{key:"setRef",value:function(e){this.htmlElementRef=e,this.props.innerRef&&this.props.innerRef(e)}},{key:"createEditor",value:function(e){var t=e.value,n=Object(Zn.a)(e,["value"]);this.jsonEditor&&this.jsonEditor.destroy(),this.jsonEditor=new ta.a(this.htmlElementRef,Object(X.a)({onChange:this.handleChange},n)),this.jsonEditor.set(t)}},{key:"handleChange",value:function(){if(this.props.onChange)try{""===this.jsonEditor.getText()&&this.props.onChange(null);var e=this.jsonEditor.get();this.props.value!==e&&this.props.onChange(e)}catch(t){this.err=t}}},{key:"collapseAll",value:function(){this.jsonEditor&&this.jsonEditor.collapseAll()}},{key:"expandAll",value:function(){this.jsonEditor&&this.jsonEditor.expandAll()}},{key:"focus",value:function(){this.jsonEditor&&this.jsonEditor.focus()}},{key:"render",value:function(){var e=this.props,t=e.htmlElementProps,n=e.tag;return u.a.createElement(n,Object(X.a)(Object(X.a)({},t),{},{ref:this.setRef}))}}]),n}(i.Component);ra.defaultProps={tag:"div",mode:na.tree,history:!1,search:!0,navigationBar:!0,statusBar:!0},ra.modes=na;var oa=n(254),ca=n.n(oa),la=(n(480),n(482),n(483),function(e){var t=e.value,n=e.onChange;return u.a.createElement(ra,{value:t,onChange:n,allowedModes:["tree","code"],ace:ca.a,theme:"ace/theme/github"})}),ia=function(e){var t=e.model;e.onChange;return u.a.createElement("p",null,"Graph View",t.name)},ua=n(518),sa=n(255),da=function(e){var t=e.list,n=e.editHandler,a=e.deleteHandler,r=e.itemAvatar,o=e.changeStatus;return u.a.createElement(En.a,{itemLayout:"horizontal",dataSource:t,renderItem:function(e){return u.a.createElement(En.a.Item,{actions:[u.a.createElement(Xt.a,{key:"item-edit",size:"small",onClick:function(){return n(e)}},"Edit"),u.a.createElement(Xt.a,{key:"item-delete",size:"small",onClick:function(){return a(e)},type:"danger"},"Delete"),u.a.createElement(mn.a,{key:"item-enable",onChange:function(){return o(e)},checkedChildren:"Enable",unCheckedChildren:"Disable",checked:e.enable})]},u.a.createElement(ua.a,{avatar:!0,title:!1,loading:e.loading},u.a.createElement(En.a.Item.Meta,{avatar:u.a.createElement(sa.a,null,r),title:u.a.createElement("a",{onClick:function(){return n(e)}},e.name?e.name:e.id),description:"Id: ".concat(e.id).concat(e.name?"- name: ".concat(e.name):"","- enable: ").concat(!!e.enable)})))}})},ha=n(522),ma=function(e){var t=e.thing,n=e.actions,a=n.showModal,r=n.selectThing,o=n.deleteThing,c=n.changeStatusThing,l=n.selectSensor,i=n.deleteSensor,s=n.changeStatusSensor,d=n.selectActuator,h=n.deleteActuator,m=n.changeStatusActuator;return u.a.createElement(Dn,{title:"Thing ".concat(t.id)},u.a.createElement(En.a.Item,{actions:[u.a.createElement(Xt.a,{key:"thing-edit",size:"small",onClick:function(){r(t),a("THING-FORM")}},"Edit"),u.a.createElement(Xt.a,{key:"thing-delete",size:"small",onClick:function(){o(t.id)},type:"danger"},"Delete"),u.a.createElement(mn.a,{key:"thing-enable",onChange:function(e){c(t.id)},checkedChildren:"Enable",unCheckedChildren:"Disable",checked:t.enable})]},u.a.createElement(En.a.Item.Meta,{avatar:u.a.createElement(sa.a,null,u.a.createElement(Nt.a,null)),title:u.a.createElement("a",{onClick:function(){r(t),a("THING-FORM")}},t.name?t.name:t.id),description:"Id: ".concat(t.id).concat(t.name?"- name: ".concat(t.name):"","- enable: ").concat(!!t.enable)})),u.a.createElement(ha.a,{className:"site-page-header",title:"Connection",subTitle:"Protocol: ".concat(t.protocol)}),u.a.createElement("p",null,"Host: ",u.a.createElement("strong",null,t.connConfig.host)),u.a.createElement("p",null,"Port: ",u.a.createElement("strong",null,t.connConfig.port)),t.sensors&&u.a.createElement(u.a.Fragment,null,u.a.createElement(ha.a,{className:"site-page-header",title:"Sensors",subTitle:"Total: ".concat(t.sensors.length)}),u.a.createElement(da,{list:t.sensors,editHandler:function(e){l(e),a("SENSOR-FORM")},deleteHandler:function(e){i(e.id,t.id)},changeStatus:function(e){s(e.id,t.id)},itemAvatar:u.a.createElement(Vt.a,null)})),t.actuators&&u.a.createElement(u.a.Fragment,null,u.a.createElement(ha.a,{className:"site-page-header",title:"Actuators",subTitle:"Total: ".concat(t.actuators.length)}),u.a.createElement(da,{list:t.actuators,editHandler:function(e){d(e),a("ACTUATOR-FORM")},deleteHandler:function(e){h(e.id,t.id)},changeStatus:function(e){m(e.id,t.id)},itemAvatar:u.a.createElement(Pt.a,null)})))},fa=function(e){var t=e.things,n=e.actions;return u.a.createElement(En.a,{itemLayout:"horizontal",dataSource:t,renderItem:function(e){return u.a.createElement(ma,{thing:e,actions:n})}})},ga=(n(488),gt.a.Paragraph),pa=function(e){var t=e.model,n=t.sensors,a=t.actuators,r=t.things,o=t.name,c=e.modelType,l=e.actions,i=l.showModal,s=l.selectThing,d=l.deleteThing,h=l.changeStatusThing,m=l.selectSensor,f=l.deleteSensor,g=l.changeStatusSensor,p=l.selectActuator,E=l.deleteActuator,b=l.changeStatusActuator,O=l.changeModelName;return u.a.createElement("div",null,u.a.createElement(Dn,{title:"Overview",active:!0},u.a.createElement(ga,{editable:{onChange:function(e){return O(e)}}},o),u.a.createElement("span",null,"Type: ",u.a.createElement("strong",null,c))),r&&u.a.createElement(Dn,{title:"Things (".concat(r.length,")"),active:!0},u.a.createElement(fa,{things:r,actions:{showModal:i,selectThing:s,deleteThing:d,changeStatusThing:h,selectSensor:m,deleteSensor:f,changeStatusSensor:g,selectActuator:p,deleteActuator:E,changeStatusActuator:b}})),n&&u.a.createElement(Dn,{title:"Free Sensors (".concat(n.length,")"),active:!1},u.a.createElement(da,{list:n,editHandler:function(e){m(e),i("SENSOR-FORM")},deleteHandler:function(e){f(e.id,null)},changeStatus:function(e){g(e.id,null)},itemAvatar:u.a.createElement(Vt.a,null)})),a&&u.a.createElement(Dn,{title:"Free Actuators (".concat(a.length,")"),active:!1},u.a.createElement(da,{list:a,editHandler:function(e){p(e),i("ACTUATOR-FORM")},deleteHandler:function(e){E(e.id,null)},changeStatus:function(e){b(e.id,null)},itemAvatar:u.a.createElement(Pt.a,null)})))},Ea=(n(489),function(e){Object(ht.a)(n,e);var t=Object(mt.a)(n);function n(e){var a;return Object(st.a)(this,n),(a=t.call(this,e)).state={tempModel:e.model,deployStatus:e.deployStatus,isDG:!1},a.onModelChange=a.onModelChange.bind(Object(Wt.a)(a)),a}return Object(dt.a)(n,[{key:"componentDidMount",value:function(){var e=ae();this.props.initData(e),this.setState({isDG:e})}},{key:"componentWillReceiveProps",value:function(e){this.setState({tempModel:e.model,deployStatus:e.deployStatus})}},{key:"onModelChange",value:function(e){this.setState({tempModel:e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.deployStatus,a=t.isDG,r=this.props,o=r.requesting,c=r.notify,l=r.model,i=r.saveModel,s=r.showModal,d=r.selectThing,h=r.deleteThing,m=r.changeStatusThing,f=r.selectSensor,g=r.deleteSensor,p=r.changeStatusSensor,E=r.selectActuator,b=r.deleteActuator,O=r.changeStatusActuator,v=r.formID,C=r.resetNotification,y=r.changeModelName,S=(r.setViewType,null);n&&(S="".concat(a?"Data Generator":"Simulation"," is running. Model name ").concat(n.model,". Started time: ").concat(new Date(n.startedTime)));var j=re("view");return j||(j="list"),u.a.createElement("div",{className:"content"},S&&u.a.createElement(qt.a,{message:S,type:"info",style:{marginBottom:"10px"},showIcon:!0}),c&&Qt.a[c.type]({message:c.type.toUpperCase(),description:"object"===typeof c.message?JSON.stringify(c.message):c.message,onClose:function(){return C()}}),o?u.a.createElement(zt.a,{tip:"Loading..."}):u.a.createElement("div",null,"json"===j?u.a.createElement(la,{value:l,onChange:this.onModelChange}):"graph"===j?u.a.createElement(ia,{model:l,onChange:this.onModelChange}):u.a.createElement(pa,{model:l,modelType:a?"Data Geneartor":"Simulation",actions:{showModal:s,selectThing:d,deleteThing:h,changeStatusThing:m,selectSensor:f,deleteSensor:g,changeStatusSensor:p,selectActuator:E,deleteActuator:b,changeStatusActuator:O,changeModelName:y}}),u.a.createElement(Xt.a,{type:"primary",onClick:function(){return i(a,e.state.tempModel)},style:{marginTop:"10px"}},"Save")),"THING-FORM"===v&&u.a.createElement(Rn,null),!a&&"ACTUATOR-FORM"===v&&u.a.createElement($n,null),("SENSOR-FORM"===v||"ACTUATOR-FORM"===v&&a)&&u.a.createElement(qn,null))}}]),n}(i.Component)),ba=Object(h.b)((function(e){var t=e.requesting,n=e.notify,a=e.model,r=e.editingForm;return{model:a,notify:n,requesting:t,deployStatus:e.deployStatus,formID:r.formID}}),(function(e){return{initData:function(t){e(C(t)),e(P(t))},saveModel:function(t,n){e(y(n)),e(x(t))},showModal:function(t){return e(J(t))},changeModelName:function(t){return e(S(t))},selectThing:function(t){return e(W(t))},deleteThing:function(t){return e(D(t))},changeStatusThing:function(t){return e(q(t))},selectSensor:function(t){return e(Q(t))},deleteSensor:function(t,n){return e(A({sensorID:t,thingID:n}))},changeStatusSensor:function(t,n){return e(I({sensorID:t,thingID:n}))},selectActuator:function(t){return e(z(t))},deleteActuator:function(t,n){return e(R({actuatorID:t,thingID:n}))},changeStatusActuator:function(t,n){return e(w({actuatorID:t,thingID:n}))},resetNotification:function(){return e(v())}}}))(Ea),Oa=n(542),va=function(e){Object(ht.a)(n,e);var t=Object(mt.a)(n);function n(){return Object(st.a)(this,n),t.apply(this,arguments)}return Object(dt.a)(n,[{key:"componentDidMount",value:function(){this.props.initData(ae())}},{key:"render",value:function(){var e=this.props,t=e.logFiles,n=e.deleteLogFile,a=e.requesting,r=ae();return a?u.a.createElement(zt.a,{tip:"Loading..."}):u.a.createElement(u.a.Fragment,null,u.a.createElement(ha.a,{className:"site-page-header",title:"Log files"}),u.a.createElement(En.a,{bordered:!0,dataSource:t,renderItem:function(e){return u.a.createElement(En.a.Item,{actions:[u.a.createElement(Xt.a,{key:"list-loadmore-edit",onClick:function(){return n(r,e)},type:"danger"},"Delete")]},u.a.createElement(ua.a,{avatar:!0,title:!1,loading:e.loading},u.a.createElement(En.a.Item.Meta,{avatar:u.a.createElement(sa.a,null,u.a.createElement(Oa.a,null)),title:u.a.createElement("a",{href:"".concat(r?"/data-generator":"","/logs/").concat(e)},e),description:"Created at: ".concat(ne(e))})))}}))}}]),n}(i.Component),Ca=Object(h.b)((function(e){return{requesting:e.requesting,logFiles:e.logs.logFiles}}),(function(e){return{deleteLogFile:function(t,n){e(Y({isDG:t,logFile:n}))},initData:function(t){e(G(t))}}}))(va),ya=gt.a.Text,Sa=function(e){var t=e.type,n=e.time,a=e.device,r=e.message;return u.a.createElement(pt.a,null,u.a.createElement(Et.a,{span:4},u.a.createElement(ya,{type:t},n)),u.a.createElement(Et.a,{span:5},u.a.createElement(ya,{type:t},a)),u.a.createElement(Et.a,{span:15},u.a.createElement(ya,{type:t},r)))},ja=function(e){Object(ht.a)(n,e);var t=Object(mt.a)(n);function n(e){var a;return Object(st.a)(this,n),(a=t.call(this,e)).state={logFile:null,isDG:!1},a}return Object(dt.a)(n,[{key:"componentDidMount",value:function(){var e=function(e){var t=e.split("/");return t[t.length-1]}(window.location.pathname),t=ae();this.setState({logFile:decodeURIComponent(e)}),this.props.requestLogs(t,e)}},{key:"render",value:function(){var e=this.state.logFile,t=this.props.logs;return u.a.createElement(u.a.Fragment,null,u.a.createElement(ha.a,{className:"site-page-header",title:e}),u.a.createElement(Sa,{key:-1,type:"warning",time:"Time",device:"Device",message:"Message"}),t?t.split("\n").map((function(e,t){var n=e.split(" ");if(n.length<4)return console.warn("Log is not going to show: ",e),null;var a="info:"===n[2]?"secondary":"danger",r=new Date(n[0]),o="".concat(r.getHours(),":").concat(r.getMinutes(),":").concat(r.getSeconds()," ").concat(r.getDay(),"/").concat(r.getMonth(),"/").concat(r.getFullYear()),c=n[3].replace("[","").replace("]",""),l=e.split(n[3])[1];return u.a.createElement(Sa,{key:t,type:a,time:o,device:c,message:l})})):u.a.createElement("p",null,"Empty"))}}]),n}(i.Component),Da=Object(h.b)((function(e){var t=e.requesting,n=e.logs;return{requesting:t,logs:n.logs,logFile:n.logFile}}),(function(e){return{requestLogs:function(t,n){return e(L({isDG:t,logFile:n}))}}}))(ja),ka=ot.a.Content,Ta=function(){return u.a.createElement(ot.a,null,u.a.createElement(Bt,null),u.a.createElement(ot.a,{style:{padding:"0 24px 24px"}},u.a.createElement(ka,null,u.a.createElement(ba,null))),u.a.createElement(Jt,null))},Aa=function(e){var t=e.children;return u.a.createElement(ot.a,null,u.a.createElement(ot.a,{style:{padding:"0 48px 48px"}},u.a.createElement(ka,null,t)))};var Ra=function(){return u.a.createElement(ct.a,null,u.a.createElement(ut.a,null,u.a.createElement(ot.a,{className:"layout",style:{height:"100%"}},u.a.createElement(wt,null),u.a.createElement(lt.c,null,u.a.createElement(lt.a,{path:"/data-generator/logs/:logFile"},u.a.createElement(Aa,null,u.a.createElement(Da,null))),u.a.createElement(lt.a,{path:"/data-generator/logs"},u.a.createElement(Aa,null,u.a.createElement(Ca,null))),u.a.createElement(lt.a,{path:"/data-generator"},u.a.createElement(Ta,null)),u.a.createElement(lt.a,{path:"/logs/:logFile"},u.a.createElement(Aa,null,u.a.createElement(Da,null))),u.a.createElement(lt.a,{path:"/logs"},u.a.createElement(Aa,null,u.a.createElement(Ca,null))),u.a.createElement(lt.a,{path:"/"},u.a.createElement(Ta,null))),u.a.createElement(Ft,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(506);var Ia=rt();d.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(h.a,{store:Ia},u.a.createElement(Ra,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[264,1,2]]]);
//# sourceMappingURL=main.9f0de37c.chunk.js.map